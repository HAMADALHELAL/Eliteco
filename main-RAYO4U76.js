import{A as Fs,Aa as Ve,B as W,Ba as Js,C as Vs,Ca as Xs,Da as Mn,E as fe,Ea as ea,F as Fe,Fa as Ct,J as js,M as et,O as k,P as R,Q as we,S as Et,V as Y,W as tt,X as Hs,Y as Us,a as ee,b as xe,ba as wt,c as Os,ca as Bs,d as Xe,da as be,e as u,ea as Te,j as b,ja as $s,l as _t,la as Ws,ma as zs,o as Le,oa as bt,p as xs,pa as he,qa as qs,ra as Gs,sa as Sn,ta as ii,ua as Ks,v as Ls,va as Qs,wa as Ys,xa as Zs,y as It,ya as Tt,z as ri,za as Nn}from"./chunk-UYM77PSF.js";var Ou=()=>["/home"],xu=()=>["/register"],Lu=()=>["/login"],An=class n{constructor(e,t,r){this.route=e;this.translate=t;this.platformId=r;this.translate.addLangs(["en","ar"]),this.translate.setDefaultLang("en")}ngOnInit(){if(this.route.fragment.subscribe(e=>{if(e&&he(this.platformId)){let t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})}}),he(this.platformId)){let e=localStorage.getItem("lang")||this.translate.getBrowserLang()||"en";this.switchLang(e)}}switchLang(e){this.translate.use(e),he(this.platformId)&&(document.documentElement.lang=e,document.documentElement.dir=e==="ar"?"rtl":"ltr",localStorage.setItem("lang",e))}static \u0275fac=function(t){return new(t||n)(fe(Js),fe(Tt),fe(It))};static \u0275cmp=Fe({type:n,selectors:[["app-header"]],decls:19,vars:18,consts:[[1,"navbar"],[1,"left"],[1,"lang-switcher"],[1,"lang-btn",3,"click"],[1,"center"],[1,"logo-container",3,"routerLink"],["src","assets/logo.jpg",1,"logo"],[1,"right"],[1,"sign-in-btn",2,"margin-right","10px",3,"routerLink"],[1,"sign-in-btn",3,"routerLink"]],template:function(t,r){t&1&&(k(0,"header",0)(1,"div",1)(2,"div",2)(3,"button",3),Et("click",function(){return r.switchLang("en")}),Y(4),be(5,"translate"),R(),k(6,"button",3),Et("click",function(){return r.switchLang("ar")}),Y(7),be(8,"translate"),R()()(),k(9,"div",4)(10,"a",5),we(11,"img",6),R()(),k(12,"div",7)(13,"button",8),Y(14),be(15,"translate"),R(),k(16,"button",9),Y(17),be(18,"translate"),R()()()),t&2&&(W(4),tt(Te(5,7,"lang_en")),W(3),tt(Te(8,9,"lang_ar")),W(3),et("routerLink",wt(15,Ou)),W(3),et("routerLink",wt(16,xu)),W(),tt(Te(15,11,"sign_up")),W(2),et("routerLink",wt(17,Lu)),W(),tt(Te(18,13,"sign_in")))},dependencies:[bt,Ct,Mn,Ve,Nn],styles:[".navbar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem 2rem;background-color:var(--white-color);box-shadow:0 2px 5px #0000001a}.navbar[_ngcontent-%COMP%] > .left[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%] > .center[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%] > .right[_ngcontent-%COMP%]{display:flex;align-items:center}.left[_ngcontent-%COMP%]{flex:1;justify-content:flex-start}.center[_ngcontent-%COMP%]{flex:1;justify-content:center}.right[_ngcontent-%COMP%]{flex:1;justify-content:flex-end}.lang-switcher[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.lang-btn[_ngcontent-%COMP%]{background:transparent;border:1px solid var(--primary-color);color:var(--primary-color);padding:.3rem .8rem;border-radius:4px;cursor:pointer;font-weight:500;font-size:.85rem;transition:all .3s ease}.lang-btn[_ngcontent-%COMP%]:hover{background:var(--primary-color);color:#fff}.logo[_ngcontent-%COMP%]{height:80px;width:auto}.sign-in-btn[_ngcontent-%COMP%]{background-color:var(--primary-color);color:#fff;border:none;padding:.5rem 1rem;border-radius:4px;font-weight:600;cursor:pointer;transition:background .3s}.sign-in-btn[_ngcontent-%COMP%]:hover{background-color:#6ab26e}"]})};var kn=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Fe({type:n,selectors:[["app-footer"]],decls:13,vars:0,consts:[[1,"footer"],[1,"footer-content"],[1,"social-icons"],["href","https://instagram.com","target","_blank"],[1,"fa-brands","fa-instagram"],["href","https://x.com","target","_blank"],[1,"fa-brands","fa-x"],["href","https://facebook.com","target","_blank"],[1,"fa-brands","fa-facebook-f"],["href","mailto:contact@elite.com"],[1,"fa-solid","fa-envelope"]],template:function(t,r){t&1&&(k(0,"footer",0)(1,"div",1)(2,"p"),Y(3,"\xA9 2025 Elite Psychology. All rights reserved."),R(),k(4,"div",2)(5,"a",3),we(6,"i",4),R(),k(7,"a",5),we(8,"i",6),R(),k(9,"a",7),we(10,"i",8),R(),k(11,"a",9),we(12,"i",10),R()()()())},styles:[".footer[_ngcontent-%COMP%]{padding:2rem 1rem;background-color:var(--accent-color);color:#fff;text-align:center}.footer-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;align-items:center}.social-icons[_ngcontent-%COMP%]{display:flex;gap:1rem}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-size:1.2rem;transition:transform .3s ease,color .3s ease}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primary-color);transform:scale(1.2)}"]})};var Rn=class n{constructor(e,t){this.translate=e;this.platformId=t;this.translate.addLangs(["en","ar"]),this.translate.setDefaultLang("en")}ngOnInit(){if(he(this.platformId)){let e=localStorage.getItem("lang")||this.translate.getBrowserLang()||"en";this.switchLang(e)}}switchLang(e){this.translate.use(e),he(this.platformId)&&(document.documentElement.lang=e,document.documentElement.dir=e==="ar"?"rtl":"ltr",localStorage.setItem("lang",e))}static \u0275fac=function(t){return new(t||n)(fe(Tt),fe(It))};static \u0275cmp=Fe({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,r){t&1&&we(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[bt,Ct,Xs,Ve,An,kn],encapsulation:2})};var Fu=n=>({"accent-text":n}),Vu=()=>[1,2,3,4,5,6];function ju(n,e){if(n&1&&(k(0,"div",10),Y(1),be(2,"translate"),R()),n&2){let t=e.$implicit;W(),Us(" ",Te(2,2,"course")," ",t," ")}}var Yt=class n{constructor(e,t){this.translate=e;this.platformId=t;this.translate.addLangs(["en","ar"]),this.translate.setDefaultLang("en")}currentLang="en";ngOnInit(){if(he(this.platformId)){let e=localStorage.getItem("lang")||this.translate.getBrowserLang()||"en";this.switchLang(e),this.translate.onLangChange.subscribe(t=>{this.currentLang=t.lang}),this.currentLang=this.translate.currentLang||"en"}else this.currentLang=this.translate.getDefaultLang()||"en"}switchLang(e){this.translate.use(e),this.currentLang=e,he(this.platformId)&&(document.documentElement.lang=e,document.documentElement.dir=e==="ar"?"rtl":"ltr")}scrollLeft(e){let t=document.getElementById(e);t&&t.scrollBy({left:-300,behavior:"smooth"})}scrollRight(e){let t=document.getElementById(e);t&&t.scrollBy({left:300,behavior:"smooth"})}static \u0275fac=function(t){return new(t||n)(fe(Tt),fe(It))};static \u0275cmp=Fe({type:n,selectors:[["app-home"]],decls:16,vars:11,consts:[[1,"home-wrapper"],["id","courses",1,"section","light-section"],[1,"section-header"],[1,"section-title"],["routerLink","/courses",1,"view-all-btn",3,"ngClass"],[1,"carousel"],[1,"arrow","left",3,"click"],["id","courses-carousel",1,"carousel-track"],["class","card",4,"ngFor","ngForOf"],[1,"arrow","right",3,"click"],[1,"card"]],template:function(t,r){t&1&&(k(0,"div",0)(1,"section",1)(2,"div",2)(3,"h2",3),Y(4),be(5,"translate"),R(),k(6,"a",4),Y(7),be(8,"translate"),R()(),k(9,"div",5)(10,"button",6),Et("click",function(){return r.scrollLeft("courses-carousel")}),Y(11,"\u2039"),R(),k(12,"div",7),js(13,ju,3,4,"div",8),R(),k(14,"button",9),Et("click",function(){return r.scrollRight("courses-carousel")}),Y(15,"\u203A"),R()()()()),t&2&&(W(4),tt(Te(5,4,"available_courses")),W(2),et("ngClass",Bs(8,Fu,r.currentLang==="ar")),W(),Hs(" ",Te(8,6,"browse_courses"),`
`),W(6),et("ngForOf",wt(10,Vu)))},dependencies:[bt,Ws,zs,Ct,Mn,Ve,Nn],styles:[".home-wrapper[_ngcontent-%COMP%]{background:linear-gradient(120deg,var(--primary-color),var(--accent-color));min-height:100vh;width:100%}.hero[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:6rem 2rem;color:#fff;text-align:center;animation:_ngcontent-%COMP%_fadeIn 1s ease-in-out}.hero-content[_ngcontent-%COMP%]{max-width:700px}.hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.hero[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:2rem}.cta-btn[_ngcontent-%COMP%]{font-size:large;background-color:var(--white-color);color:var(--primary-color);border:none;padding:.8rem 2rem;font-weight:700;border-radius:30px;cursor:pointer;transition:all .3s ease}.cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--secondary-color);color:#fff}.cta-btn.outline[_ngcontent-%COMP%]{background:none;border:2px solid white;color:#fff}.cta-btn.outline[_ngcontent-%COMP%]:hover{background-color:#fff;color:var(--primary-color)}.section[_ngcontent-%COMP%]{padding:5rem 2rem;text-align:center;background:none}.light-section[_ngcontent-%COMP%]{background:none}.alt-section[_ngcontent-%COMP%]{background:none;color:#fff}.section-title[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:2rem;color:#fff}.card-container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;gap:2rem}.card[_ngcontent-%COMP%]{background-color:#fffffff2;width:250px;height:180px;border-radius:12px;box-shadow:0 6px 15px #0000001a;transition:transform .3s ease,box-shadow .3s ease;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:1.1rem}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 12px 25px #00000026}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.card[_ngcontent-%COMP%]{width:90%}}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.view-all-btn[_ngcontent-%COMP%]{color:var(--white-color);background:var(--primary-color);padding:.4rem 1rem;border-radius:20px;text-decoration:none;font-weight:500;transition:background .3s ease}.view-all-btn.accent-text[_ngcontent-%COMP%]{background:var(--accent-color)}.view-all-btn[_ngcontent-%COMP%]:hover{background:#fff}.carousel[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;overflow:hidden}.carousel-track[_ngcontent-%COMP%]{display:flex;gap:1.5rem;overflow-x:auto;scroll-behavior:smooth;padding:1rem 0}.carousel-track[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.arrow[_ngcontent-%COMP%]{background:var(--white-color);color:#fff;font-size:2rem;border:none;border-radius:50%;width:40px;height:40px;cursor:pointer;transition:background .3s}.arrow[_ngcontent-%COMP%]:hover{color:var(--secondary-color)}@media (max-width: 1024px){.card[_ngcontent-%COMP%]{width:220px;height:160px;font-size:1rem}.cta-btn[_ngcontent-%COMP%]{padding:.6rem 1.5rem;font-size:1rem}.view-all-btn[_ngcontent-%COMP%]{padding:.3rem .8rem;font-size:.95rem}.arrow[_ngcontent-%COMP%]{width:36px;height:36px;font-size:1.8rem}}@media (max-width: 768px){.hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.hero[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.card[_ngcontent-%COMP%]{width:180px;height:140px;font-size:.95rem}.section[_ngcontent-%COMP%]{padding:3rem 1rem}.carousel-track[_ngcontent-%COMP%]{gap:1rem}.section-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}}@media (max-width: 480px){.card[_ngcontent-%COMP%]{width:150px;height:130px;font-size:.85rem}.cta-btn[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.85rem}.arrow[_ngcontent-%COMP%]{width:32px;height:32px;font-size:1.5rem}.hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.6rem}.hero[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}}"]})};var ra=[{path:"",component:Yt},{path:"home",component:Yt},{path:"register",loadComponent:()=>import("./chunk-PJILZSDN.js").then(n=>n.RegisterComponent)},{path:"login",loadComponent:()=>import("./chunk-26VEEWSC.js").then(n=>n.SignInComponent)}];var E=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(E||{}),re="*";function ia(n,e=null){return{type:E.Sequence,steps:n,options:e}}function si(n){return{type:E.Style,styles:n,offset:null}}var Ce=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},St=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Zt="!";function oa(n){return new b(3e3,!1)}function Hu(){return new b(3100,!1)}function Uu(){return new b(3101,!1)}function Bu(n){return new b(3001,!1)}function $u(n){return new b(3003,!1)}function Wu(n){return new b(3004,!1)}function aa(n,e){return new b(3005,!1)}function ca(){return new b(3006,!1)}function la(){return new b(3007,!1)}function ua(n,e){return new b(3008,!1)}function da(n){return new b(3002,!1)}function fa(n,e,t,r,i){return new b(3010,!1)}function ha(){return new b(3011,!1)}function pa(){return new b(3012,!1)}function ga(){return new b(3200,!1)}function ma(){return new b(3202,!1)}function ya(){return new b(3013,!1)}function va(n){return new b(3014,!1)}function _a(n){return new b(3015,!1)}function Ia(n){return new b(3016,!1)}function Ea(n,e){return new b(3404,!1)}function zu(n){return new b(3502,!1)}function wa(n){return new b(3503,!1)}function ba(){return new b(3300,!1)}function Ta(n){return new b(3504,!1)}function Ca(n){return new b(3301,!1)}function Da(n,e){return new b(3302,!1)}function Sa(n){return new b(3303,!1)}function Na(n,e){return new b(3400,!1)}function Ma(n){return new b(3401,!1)}function Aa(n){return new b(3402,!1)}function ka(n,e){return new b(3505,!1)}function De(n){switch(n.length){case 0:return new Ce;case 1:return n[0];default:return new St(n)}}function ui(n,e,t=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),d=l==s,f=d&&a||new Map;c.forEach((g,h)=>{let m=h,_=g;if(h!=="offset")switch(m=n.normalizePropertyName(m,i),_){case Zt:_=t.get(h);break;case re:_=r.get(h);break;default:_=n.normalizeStyleValue(h,m,_,i);break}f.set(m,_)}),d||o.push(f),a=f,s=l}),i.length)throw zu(i);return o}function Pn(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&ai(t,"start",n)));break;case"done":n.onDone(()=>r(t&&ai(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&ai(t,"destroy",n)));break}}function ai(n,e,t){let r=t.totalTime,i=!!t.disabled,o=On(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function On(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function z(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function di(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}var qu=typeof document>"u"?null:document.documentElement;function xn(n){let e=n.parentNode||n.host||null;return e===qu?null:e}function Gu(n){return n.substring(1,6)=="ebkit"}var nt=null,sa=!1;function Ra(n){nt||(nt=Ku()||{},sa=nt.style?"WebkitAppearance"in nt.style:!1);let e=!0;return nt.style&&!Gu(n)&&(e=n in nt.style,!e&&sa&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in nt.style)),e}function Ku(){return typeof document<"u"?document.body:null}function fi(n,e){for(;e;){if(e===n)return!0;e=xn(e)}return!1}function hi(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}var Qu=1e3,pi="{{",Yu="}}",gi="ng-enter",Ln="ng-leave",Jt="ng-trigger",Xt=".ng-trigger",mi="ng-animating",Fn=".ng-animating";function pe(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ci(parseFloat(e[1]),e[2])}function ci(n,e){switch(e){case"s":return n*Qu;default:return n}}function en(n,e,t){return n.hasOwnProperty("duration")?n:Zu(n,e,t)}function Zu(n,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof n=="string"){let a=n.match(r);if(a===null)return e.push(oa(n)),{duration:0,delay:0,easing:""};i=ci(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=ci(parseFloat(c),a[4]));let l=a[5];l&&(s=l)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(Hu()),a=!0),o<0&&(e.push(Uu()),a=!0),a&&e.splice(c,0,oa(n))}return{duration:i,delay:o,easing:s}}function Pa(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function ie(n,e,t){e.forEach((r,i)=>{let o=Vn(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function je(n,e){e.forEach((t,r)=>{let i=Vn(r);n.style[i]=""})}function Nt(n){return Array.isArray(n)?n.length==1?n[0]:ia(n):n}function Oa(n,e,t){let r=e.params||{},i=yi(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(Bu(o))})}var li=new RegExp(`${pi}\\s*(.+?)\\s*${Yu}`,"g");function yi(n){let e=[];if(typeof n=="string"){let t;for(;t=li.exec(n);)e.push(t[1]);li.lastIndex=0}return e}function Mt(n,e,t){let r=`${n}`,i=r.replace(li,(o,s)=>{let a=e[s];return a==null&&(t.push($u(s)),a=""),a.toString()});return i==r?n:i}var Ju=/-+([a-z0-9])/g;function Vn(n){return n.replace(Ju,(...e)=>e[1].toUpperCase())}function xa(n,e){return n===0||e===0}function La(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,jn(n,a)))}}return e}function q(n,e,t){switch(e.type){case E.Trigger:return n.visitTrigger(e,t);case E.State:return n.visitState(e,t);case E.Transition:return n.visitTransition(e,t);case E.Sequence:return n.visitSequence(e,t);case E.Group:return n.visitGroup(e,t);case E.Animate:return n.visitAnimate(e,t);case E.Keyframes:return n.visitKeyframes(e,t);case E.Style:return n.visitStyle(e,t);case E.Reference:return n.visitReference(e,t);case E.AnimateChild:return n.visitAnimateChild(e,t);case E.AnimateRef:return n.visitAnimateRef(e,t);case E.Query:return n.visitQuery(e,t);case E.Stagger:return n.visitStagger(e,t);default:throw Wu(e.type)}}function jn(n,e){return window.getComputedStyle(n)[e]}var Oi=(()=>{class n{validateStyleProperty(t){return Ra(t)}containsElement(t,r){return fi(t,r)}getParentElement(t){return xn(t)}query(t,r,i){return hi(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],c){return new Ce(i,o)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=_t({token:n,factory:n.\u0275fac})}return n})(),it=class{static NOOP=new Oi},ot=class{};var Xu=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Wn=class extends ot{normalizePropertyName(e,t){return Vn(e)}normalizeStyleValue(e,t,r,i){let o="",s=r.toString().trim();if(Xu.has(t)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(aa(e,r))}return s+o}};var zn="*";function ed(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>td(r,t,e)):t.push(n),t}function td(n,e,t){if(n[0]==":"){let c=nd(n,t);if(typeof c=="function"){e.push(c);return}n=c}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(_a(n)),e;let i=r[1],o=r[2],s=r[3];e.push(Fa(i,s));let a=i==zn&&s==zn;o[0]=="<"&&!a&&e.push(Fa(s,i))}function nd(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(Ia(n)),"* => *"}}var Hn=new Set(["true","1"]),Un=new Set(["false","0"]);function Fa(n,e){let t=Hn.has(n)||Un.has(n),r=Hn.has(e)||Un.has(e);return(i,o)=>{let s=n==zn||n==i,a=e==zn||e==o;return!s&&t&&typeof i=="boolean"&&(s=i?Hn.has(n):Un.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?Hn.has(e):Un.has(e)),s&&a}}var Ga=":self",rd=new RegExp(`s*${Ga}s*,?`,"g");function Ka(n,e,t,r){return new bi(n).build(e,t,r)}var Va="",bi=class{_driver;constructor(e){this._driver=e}build(e,t,r){let i=new Ti(t);return this._resetContextStyleTimingState(i),q(this,Nt(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=Va,e.collectedStyles=new Map,e.collectedStyles.set(Va,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(ca()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==E.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(d=>{c.name=d,o.push(this.visitState(c,t))}),c.name=l}else if(a.type==E.Transition){let c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,s.push(c)}else t.errors.push(la())}),{type:E.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{yi(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&t.errors.push(ua(e.name,[...o.values()]))}return{type:E.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=q(this,Nt(e.animation),t),i=ed(e.expr,t.errors);return{type:E.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:rt(e.options)}}visitSequence(e,t){return{type:E.Sequence,steps:e.steps.map(r=>q(this,r,t)),options:rt(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,o=e.steps.map(s=>{t.currentTime=r;let a=q(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:E.Group,steps:o,options:rt(e.options)}}visitAnimate(e,t){let r=ad(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:si({});if(o.type==E.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let l={};r.easing&&(l.easing=r.easing),s=si(l)}t.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:E.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===re?r.push(a):t.errors.push(da(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(pi)>=0){o=!0;break}}}),{type:E.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let l=t.collectedStyles.get(t.currentQuerySelector),d=l.get(c),f=!0;d&&(o!=i&&o>=d.startTime&&i<=d.endTime&&(t.errors.push(fa(c,d.startTime,d.endTime,o,i)),f=!1),o=d.startTime),f&&l.set(c,{startTime:o,endTime:i}),t.options&&Oa(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:E.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(ha()),r;let i=1,o=0,s=[],a=!1,c=!1,l=0,d=e.steps.map(S=>{let N=this._makeStyleAst(S,t),A=N.offset!=null?N.offset:sd(N.styles),M=0;return A!=null&&(o++,M=N.offset=A),c=c||M<0||M>1,a=a||M<l,l=M,s.push(M),N});c&&t.errors.push(pa()),a&&t.errors.push(ga());let f=e.steps.length,g=0;o>0&&o<f?t.errors.push(ma()):o==0&&(g=i/(f-1));let h=f-1,m=t.currentTime,_=t.currentAnimateTimings,T=_.duration;return d.forEach((S,N)=>{let A=g>0?N==h?1:g*N:s[N],M=A*T;t.currentTime=m+_.delay+M,_.duration=M,this._validateStyleAst(S,t),S.offset=A,r.styles.push(S)}),r}visitReference(e,t){return{type:E.Reference,animation:q(this,Nt(e.animation),t),options:rt(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:E.AnimateChild,options:rt(e.options)}}visitAnimateRef(e,t){return{type:E.AnimateRef,animation:this.visitReference(e.animation,t),options:rt(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=id(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,z(t.collectedStyles,t.currentQuerySelector,new Map);let a=q(this,Nt(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:E.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:rt(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(ya());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:en(e.timings,t.errors,!0);return{type:E.Stagger,animation:q(this,Nt(e.animation),t),timings:r,options:null}}};function id(n){let e=!!n.split(/\s*,\s*/).find(t=>t==Ga);return e&&(n=n.replace(rd,"")),n=n.replace(/@\*/g,Xt).replace(/@\w+/g,t=>Xt+"-"+t.slice(1)).replace(/:animating/g,Fn),[n,e]}function od(n){return n?ee({},n):null}var Ti=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function sd(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function ad(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=en(n,e).duration;return vi(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=vi(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=en(t,e);return vi(i.duration,i.delay,i.easing)}function rt(n){return n?(n=ee({},n),n.params&&(n.params=od(n.params))):n={},n}function vi(n,e,t){return{duration:n,delay:e,easing:t}}function xi(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var nn=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},cd=1,ld=":enter",ud=new RegExp(ld,"g"),dd=":leave",fd=new RegExp(dd,"g");function Qa(n,e,t,r,i,o=new Map,s=new Map,a,c,l=[]){return new Ci().buildKeyframes(n,e,t,r,i,o,s,a,c,l)}var Ci=class{buildKeyframes(e,t,r,i,o,s,a,c,l,d=[]){l=l||new nn;let f=new Di(e,t,l,i,o,d,[]);f.options=c;let g=c.delay?pe(c.delay):0;f.currentTimeline.delayNextStep(g),f.currentTimeline.setStyles([s],null,f.errors,c),q(this,r,f);let h=f.timelines.filter(m=>m.containsAnimation());if(h.length&&a.size){let m;for(let _=h.length-1;_>=0;_--){let T=h[_];if(T.element===t){m=T;break}}m&&!m.allowOnlyTimelineStyles()&&m.setStyles([a],null,f.errors,c)}return h.length?h.map(m=>m.buildKeyframes()):[xi(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:pe(Mt(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime,s=r.duration!=null?pe(r.duration):null,a=r.delay!=null?pe(r.delay):null;return s!==0&&e.forEach(c=>{let l=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),q(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==E.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=qn);let s=pe(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>q(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?pe(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),q(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?Mt(r,t.params,t.errors):r;return en(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==E.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?pe(i.delay):0;o&&(t.previousNode.type===E.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=qn);let s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,d)=>{t.currentQueryIndex=d;let f=t.createSubContext(e.options,l);o&&f.delayNextStep(o),l===t.element&&(c=f.currentTimeline),q(this,e.animation,f),f.currentTimeline.applyStylesToKeyframe();let g=f.currentTimeline.currentTime;s=Math.max(s,g)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let d=t.currentTimeline;c&&d.delayNextStep(c);let f=d.currentTime;q(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-f+(i.startTime-r.currentTimeline.startTime)}},qn={},Di=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=qn;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,r,i,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=c||new Gn(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=pe(r.duration)),r.delay!=null&&(i.delay=pe(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Mt(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=qn,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new Si(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(ud,"."+this._enterClassName),e=e.replace(fd,"."+this._leaveClassName);let c=r!=1,l=this._driver.query(this.element,e,c);r!==0&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!o&&a.length==0&&s.push(va(t)),a}},Gn=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=cd,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||re),this._currentKeyframe.set(t,re);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=hd(e,this._globalTimelineStyles);for(let[a,c]of s){let l=Mt(c,o,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??re),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((d,f)=>{d===Zt?e.add(f):d===re&&t.add(f)}),r||l.set("offset",c/this.duration),i.push(l)});let o=[...e.values()],s=[...t.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return xi(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},Si=class extends Gn{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=r+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let l=new Map(e[0]);l.set("offset",ja(a)),o.push(l);let d=e.length-1;for(let f=1;f<=d;f++){let g=new Map(e[f]),h=g.get("offset"),m=t+h*r;g.set("offset",ja(m/s)),o.push(g)}r=s,t=0,i="",e=o}return xi(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};function ja(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function hd(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)t.set(o,re)}else for(let[o,s]of i)t.set(o,s)}),t}function Ha(n,e,t,r,i,o,s,a,c,l,d,f,g){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:d,totalTime:f,errors:g}}var _i={},Kn=class{_triggerName;ast;_stateStyles;constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return pd(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,c,l,d){let f=[],g=this.ast.options&&this.ast.options.params||_i,h=a&&a.params||_i,m=this.buildStyles(r,h,f),_=c&&c.params||_i,T=this.buildStyles(i,_,f),S=new Set,N=new Map,A=new Map,M=i==="void",Ee={params:Ya(_,g),delay:this.ast.options?.delay},$=d?[]:Qa(e,t,this.ast.animation,o,s,m,T,Ee,l,f),O=0;return $.forEach(V=>{O=Math.max(V.duration+V.delay,O)}),f.length?Ha(t,this._triggerName,r,i,M,m,T,[],[],N,A,O,f):($.forEach(V=>{let ne=V.element,Pe=z(N,ne,new Set);V.preStyleProps.forEach(Ze=>Pe.add(Ze));let As=z(A,ne,new Set);V.postStyleProps.forEach(Ze=>As.add(Ze)),ne!==t&&S.add(ne)}),Ha(t,this._triggerName,r,i,M,m,T,$,[...S.values()],N,A,O))}};function pd(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}function Ya(n,e){let t=ee({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}var Ni=class{styles;defaultParams;normalizer;constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=Ya(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Mt(s,i,t));let c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),r.set(a,s)})}),r}};function gd(n,e,t){return new Mi(n,e,t)}var Mi=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new Ni(i.style,o,r))}),Ua(this.states,"true","1"),Ua(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Kn(e,i,this.states))}),this.fallbackTransition=md(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function md(n,e,t){let r=[(s,a)=>!0],i={type:E.Sequence,steps:[],options:null},o={type:E.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Kn(n,o,e)}function Ua(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var yd=new nn,Ai=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r}register(e,t){let r=[],i=[],o=Ka(this._driver,t,r,i);if(r.length)throw wa(r);this._animations.set(e,o)}_buildPlayer(e,t,r){let i=e.element,o=ui(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=Qa(this._driver,t,o,gi,Ln,new Map,new Map,r,yd,i),s.forEach(d=>{let f=z(a,d.element,new Map);d.postStyleProps.forEach(g=>f.set(g,null))})):(i.push(ba()),s=[]),i.length)throw Ta(i);a.forEach((d,f)=>{d.forEach((g,h)=>{d.set(h,this._driver.computeStyle(f,h,re))})});let c=s.map(d=>{let f=a.get(d.element);return this._buildPlayer(d,new Map,f)}),l=De(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw Ca(e);return t}listen(e,t,r,i){let o=On(t,"","","");return Pn(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},Ba="ng-animate-queued",vd=".ng-animate-queued",Ii="ng-animate-disabled",_d=".ng-animate-disabled",Id="ng-star-inserted",Ed=".ng-star-inserted",wd=[],Za={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},bd={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},oe="__ng_removed",rn=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=Cd(i),r){let o=e,{value:s}=o,a=Os(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},tn="void",Ei=new rn(tn),ki=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this._hostClassName="ng-tns-"+e,te(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw Da(r,t);if(r==null||r.length==0)throw Sa(t);if(!Dd(r))throw Na(r,t);let o=z(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);let a=z(this._engine.statesByElement,e,new Map);return a.has(t)||(te(e,Jt),te(e,Jt+"-"+t),a.set(t,Ei)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw Ma(e);return t}trigger(e,t,r,i=!0){let o=this._getTrigger(t),s=new on(this.id,t,e),a=this._engine.statesByElement.get(e);a||(te(e,Jt),te(e,Jt+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t),l=new rn(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=Ei),!(l.value===tn)&&c.value===l.value){if(!Md(c.params,l.params)){let _=[],T=o.matchStyles(c.value,c.params,_),S=o.matchStyles(l.value,l.params,_);_.length?this._engine.reportError(_):this._engine.afterFlush(()=>{je(e,T),ie(e,S)})}return}let g=z(this._engine.playersByElement,e,[]);g.forEach(_=>{_.namespaceId==this.id&&_.triggerName==t&&_.queued&&_.destroy()});let h=o.matchTransition(c.value,l.value,e,l.params),m=!1;if(!h){if(!i)return;h=o.fallbackTransition,m=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:c,toState:l,player:s,isFallbackTransition:m}),m||(te(e,Ba),s.onStart(()=>{At(e,Ba)})),s.onDone(()=>{let _=this.players.indexOf(s);_>=0&&this.players.splice(_,1);let T=this._engine.playersByElement.get(e);if(T){let S=T.indexOf(s);S>=0&&T.splice(S,1)}}),this.players.push(s),g.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,Xt,!0);r.forEach(i=>{if(i[oe])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){let d=this.trigger(e,l,tn,i);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&De(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,l=r.get(s)||Ei,d=new rn(tn),f=new on(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:d,player:f,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let o=e[oe];(!o||o===Za)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){te(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=On(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,Pn(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},Ri=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new ki(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let c=i.get(a);if(c){let l=r.indexOf(c);r.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(e,t,r,i){if(Bn(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Bn(t))return;let o=t[oe];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),te(e,Ii)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),At(e,Ii))}removeNode(e,t,r){if(Bn(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[oe]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return Bn(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Xt,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,Fn,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return De(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[oe];if(t&&t.setForRemoval){if(e[oe]=Za,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Ii)&&this.markElementAsDisabled(e,!1),this.driver.query(e,_d,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];te(i,Id)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?De(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw Aa(e)}_flushAnimations(e,t){let r=new nn,i=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,d=new Set;this.disabledNodes.forEach(p=>{d.add(p);let y=this.driver.query(p,vd,!0);for(let v=0;v<y.length;v++)d.add(y[v])});let f=this.bodyNode,g=Array.from(this.statesByElement.keys()),h=za(g,this.collectedEnterElements),m=new Map,_=0;h.forEach((p,y)=>{let v=gi+_++;m.set(y,v),p.forEach(w=>te(w,v))});let T=[],S=new Set,N=new Set;for(let p=0;p<this.collectedLeaveElements.length;p++){let y=this.collectedLeaveElements[p],v=y[oe];v&&v.setForRemoval&&(T.push(y),S.add(y),v.hasAnimation?this.driver.query(y,Ed,!0).forEach(w=>S.add(w)):N.add(y))}let A=new Map,M=za(g,Array.from(S));M.forEach((p,y)=>{let v=Ln+_++;A.set(y,v),p.forEach(w=>te(w,v))}),e.push(()=>{h.forEach((p,y)=>{let v=m.get(y);p.forEach(w=>At(w,v))}),M.forEach((p,y)=>{let v=A.get(y);p.forEach(w=>At(w,v))}),T.forEach(p=>{this.processLeaveNode(p)})});let Ee=[],$=[];for(let p=this._namespaceList.length-1;p>=0;p--)this._namespaceList[p].drainQueuedTransitions(t).forEach(v=>{let w=v.player,x=v.element;if(Ee.push(w),this.collectedEnterElements.length){let j=x[oe];if(j&&j.setForMove){if(j.previousTriggersValues&&j.previousTriggersValues.has(v.triggerName)){let Je=j.previousTriggersValues.get(v.triggerName),X=this.statesByElement.get(v.element);if(X&&X.has(v.triggerName)){let Dn=X.get(v.triggerName);Dn.value=Je,X.set(v.triggerName,Dn)}}w.destroy();return}}let de=!f||!this.driver.containsElement(f,x),Q=A.get(x),Oe=m.get(x),D=this._buildInstruction(v,r,Oe,Q,de);if(D.errors&&D.errors.length){$.push(D);return}if(de){w.onStart(()=>je(x,D.fromStyles)),w.onDestroy(()=>ie(x,D.toStyles)),i.push(w);return}if(v.isFallbackTransition){w.onStart(()=>je(x,D.fromStyles)),w.onDestroy(()=>ie(x,D.toStyles)),i.push(w);return}let Ps=[];D.timelines.forEach(j=>{j.stretchStartingKeyframe=!0,this.disabledNodes.has(j.element)||Ps.push(j)}),D.timelines=Ps,r.append(x,D.timelines);let Pu={instruction:D,player:w,element:x};s.push(Pu),D.queriedElements.forEach(j=>z(a,j,[]).push(w)),D.preStyleProps.forEach((j,Je)=>{if(j.size){let X=c.get(Je);X||c.set(Je,X=new Set),j.forEach((Dn,ni)=>X.add(ni))}}),D.postStyleProps.forEach((j,Je)=>{let X=l.get(Je);X||l.set(Je,X=new Set),j.forEach((Dn,ni)=>X.add(ni))})});if($.length){let p=[];$.forEach(y=>{p.push(ka(y.triggerName,y.errors))}),Ee.forEach(y=>y.destroy()),this.reportError(p)}let O=new Map,V=new Map;s.forEach(p=>{let y=p.element;r.has(y)&&(V.set(y,y),this._beforeAnimationBuild(p.player.namespaceId,p.instruction,O))}),i.forEach(p=>{let y=p.element;this._getPreviousPlayers(y,!1,p.namespaceId,p.triggerName,null).forEach(w=>{z(O,y,[]).push(w),w.destroy()})});let ne=T.filter(p=>qa(p,c,l)),Pe=new Map;Wa(Pe,this.driver,N,l,re).forEach(p=>{qa(p,c,l)&&ne.push(p)});let Ze=new Map;h.forEach((p,y)=>{Wa(Ze,this.driver,new Set(p),c,Zt)}),ne.forEach(p=>{let y=Pe.get(p),v=Ze.get(p);Pe.set(p,new Map([...y?.entries()??[],...v?.entries()??[]]))});let ti=[],ks=[],Rs={};s.forEach(p=>{let{element:y,player:v,instruction:w}=p;if(r.has(y)){if(d.has(y)){v.onDestroy(()=>ie(y,w.toStyles)),v.disabled=!0,v.overrideTotalTime(w.totalTime),i.push(v);return}let x=Rs;if(V.size>1){let Q=y,Oe=[];for(;Q=Q.parentNode;){let D=V.get(Q);if(D){x=D;break}Oe.push(Q)}Oe.forEach(D=>V.set(D,x))}let de=this._buildAnimation(v.namespaceId,w,O,o,Ze,Pe);if(v.setRealPlayer(de),x===Rs)ti.push(v);else{let Q=this.playersByElement.get(x);Q&&Q.length&&(v.parentPlayer=De(Q)),i.push(v)}}else je(y,w.fromStyles),v.onDestroy(()=>ie(y,w.toStyles)),ks.push(v),d.has(y)&&i.push(v)}),ks.forEach(p=>{let y=o.get(p.element);if(y&&y.length){let v=De(y);p.setRealPlayer(v)}}),i.forEach(p=>{p.parentPlayer?p.syncPlayerEvents(p.parentPlayer):p.destroy()});for(let p=0;p<T.length;p++){let y=T[p],v=y[oe];if(At(y,Ln),v&&v.hasAnimation)continue;let w=[];if(a.size){let de=a.get(y);de&&de.length&&w.push(...de);let Q=this.driver.query(y,Fn,!0);for(let Oe=0;Oe<Q.length;Oe++){let D=a.get(Q[Oe]);D&&D.length&&w.push(...D)}}let x=w.filter(de=>!de.destroyed);x.length?Sd(this,y,x):this.processLeaveNode(y)}return T.length=0,ti.forEach(p=>{this.players.push(p),p.onDone(()=>{p.destroy();let y=this.players.indexOf(p);this.players.splice(y,1)}),p.play()}),ti}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==tn;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||s.push(l)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let c of t.timelines){let l=c.element,d=l!==o,f=z(r,l,[]);this._getPreviousPlayers(l,d,s,a,t.toState).forEach(h=>{let m=h.getRealPlayer();m.beforeDestroy&&m.beforeDestroy(),h.destroy(),f.push(h)})}je(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){let a=t.triggerName,c=t.element,l=[],d=new Set,f=new Set,g=t.timelines.map(m=>{let _=m.element;d.add(_);let T=_[oe];if(T&&T.removedBeforeQueried)return new Ce(m.duration,m.delay);let S=_!==c,N=Nd((r.get(_)||wd).map(O=>O.getRealPlayer())).filter(O=>{let V=O;return V.element?V.element===_:!1}),A=o.get(_),M=s.get(_),Ee=ui(this._normalizer,m.keyframes,A,M),$=this._buildPlayer(m,Ee,N);if(m.subTimeline&&i&&f.add(_),S){let O=new on(e,a,_);O.setRealPlayer($),l.push(O)}return $});l.forEach(m=>{z(this.playersByQueriedElement,m.element,[]).push(m),m.onDone(()=>Td(this.playersByQueriedElement,m.element,m))}),d.forEach(m=>te(m,mi));let h=De(g);return h.onDestroy(()=>{d.forEach(m=>At(m,mi)),ie(c,t.toStyles)}),f.forEach(m=>{z(i,m,[]).push(h)}),h}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Ce(e.duration,e.delay)}},on=class{namespaceId;triggerName;element;_player=new Ce;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Pn(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){z(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function Td(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function Cd(n){return n??null}function Bn(n){return n&&n.nodeType===1}function Dd(n){return n=="start"||n=="done"}function $a(n,e){let t=n.style.display;return n.style.display=e??"none",t}function Wa(n,e,t,r,i){let o=[];t.forEach(c=>o.push($a(c)));let s=[];r.forEach((c,l)=>{let d=new Map;c.forEach(f=>{let g=e.computeStyle(l,f,i);d.set(f,g),(!g||g.length==0)&&(l[oe]=bd,s.push(l))}),n.set(l,d)});let a=0;return t.forEach(c=>$a(c,o[a++])),s}function za(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let l=a.parentNode;return t.has(l)?c=l:i.has(l)?c=r:c=s(l),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&t.get(c).push(a)}),t}function te(n,e){n.classList?.add(e)}function At(n,e){n.classList?.remove(e)}function Sd(n,e,t){De(t).onDone(()=>n.processLeaveNode(e))}function Nd(n){let e=[];return Ja(n,e),e}function Ja(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof St?Ja(r.players,e):e.push(r)}}function Md(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function qa(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}var kt=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,r){this._driver=t,this._normalizer=r,this._transitionEngine=new Ri(e.body,t,r),this._timelineEngine=new Ai(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],l=[],d=Ka(this._driver,o,c,l);if(c.length)throw Ea(i,c);a=gd(i,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[o,s]=di(r),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if(r.charAt(0)=="@"){let[s,a]=di(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function Ad(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=wi(e[0]),e.length>1&&(r=wi(e[e.length-1]))):e instanceof Map&&(t=wi(e)),t||r?new kd(n,t,r):null}var kd=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&ie(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ie(this._element,this._initialStyles),this._endStyles&&(ie(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(je(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(je(this._element,this._endStyles),this._endStyles=null),ie(this._element,this._initialStyles),this._state=3)}}return n})();function wi(n){let e=null;return n.forEach((t,r)=>{Rd(r)&&(e=e||new Map,e.set(r,t))}),e}function Rd(n){return n==="display"||n==="position"}var Qn=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:jn(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Yn=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return fi(e,t)}getParentElement(e){return xn(e)}query(e,t,r){return hi(e,t,r)}computeStyle(e,t,r){return jn(e,t)}animate(e,t,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let l=new Map,d=s.filter(h=>h instanceof Qn);xa(r,i)&&d.forEach(h=>{h.currentSnapshot.forEach((m,_)=>l.set(_,m))});let f=Pa(t).map(h=>new Map(h));f=La(e,f,l);let g=Ad(e,f);return new Qn(e,f,c,g)}};var $n="@",Xa="@.disabled",Zn=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==$n&&t==Xa?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r,i){return this.delegate.listen(e,t,r,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},Pi=class extends Zn{factory;constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==$n?t.charAt(1)=="."&&t==Xa?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r,i){if(t.charAt(0)==$n){let o=Pd(e),s=t.slice(1),a="";return s.charAt(0)!=$n&&([s,a]=Od(s)),this.engine.listen(this.namespaceId,o,s,a,c=>{let l=c._data||-1;this.factory.scheduleListenerCallback(l,r,c)})}return this.delegate.listen(e,t,r,i)}};function Pd(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function Od(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var Jn=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,t){let r="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let l=this._rendererCache,d=l.get(i);if(!d){let f=()=>l.delete(i);d=new Zn(r,i,this.engine,f),l.set(i,d)}return d}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return t.data.animation.forEach(a),new Pi(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var Ld=(()=>{class n extends kt{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||n)(Le($s),Le(it),Le(ot))};static \u0275prov=_t({token:n,factory:n.\u0275fac})}return n})();function Fd(){return new Wn}function Vd(n,e,t){return new Jn(n,e,t)}var ec=[{provide:ot,useFactory:Fd},{provide:kt,useClass:Ld},{provide:Vs,useFactory:Vd,deps:[qs,kt,Ls]}],Cv=[{provide:it,useClass:Oi},{provide:ri,useValue:"NoopAnimations"},...ec],jd=[{provide:it,useFactory:()=>new Yn},{provide:ri,useFactory:()=>"BrowserAnimations"},...ec];function tc(){return Fs("NgEagerAnimations"),[...jd]}var nc=()=>{};var ic=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Hd=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Xn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,l=c?n[i+2]:0,d=o>>2,f=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,h=l&63;c||(h=64,s||(g=64)),r.push(t[d],t[f],t[g],t[h])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ic(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Hd(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let f=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||f==null)throw new Fi;let g=o<<2|a>>4;if(r.push(g),l!==64){let h=a<<4&240|l>>2;if(r.push(h),f!==64){let m=l<<6&192|f;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Fi=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Ud=function(n){let e=ic(n);return Xn.encodeByteArray(e,!0)},ji=function(n){return Ud(n).replace(/\./g,"")},er=function(n){try{return Xn.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function oc(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Bd=()=>oc().__FIREBASE_DEFAULTS__,$d=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Wd=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&er(n[1]);return e&&JSON.parse(e)},Hi=()=>{try{return nc()||Bd()||$d()||Wd()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},sc=n=>{var e,t;return(t=(e=Hi())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]};var Ui=()=>{var n;return(n=Hi())===null||n===void 0?void 0:n.config},Bi=n=>{var e;return(e=Hi())===null||e===void 0?void 0:e[`_${n}`]};var st=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function H(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ac(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(H())}function cc(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lc(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function uc(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dc(){let n=H();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function tr(){try{return typeof indexedDB=="object"}catch{return!1}}function fc(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var zd="FirebaseError",se=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=zd,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ae.prototype.create)}},ae=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?qd(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new se(i,a,r)}};function qd(n,e){return n.replace(Gd,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Gd=/\{\$([^}]+)}/g;function hc(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function He(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(rc(o)&&rc(s)){if(!He(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function rc(n){return n!==null&&typeof n=="object"}function sn(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function pc(n,e){let t=new Vi(n,e);return t.subscribe.bind(t)}var Vi=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Kd(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Li),i.error===void 0&&(i.error=Li),i.complete===void 0&&(i.complete=Li);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Kd(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Li(){}var Mv=4*60*60*1e3;function Ue(n){return n&&n._delegate?n._delegate:n}function $i(n){return n.endsWith(".cloudworkstations.dev")}function gc(n){return u(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}var Z=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var at="[DEFAULT]";var Wi=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new st;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Yd(e))try{this.getOrInitializeService({instanceIdentifier:at})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=at){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return u(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=at){return this.instances.has(e)}getOptions(e=at){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Qd(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=at){return this.component?this.component.multipleInstances?e:at:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Qd(n){return n===at?void 0:n}function Yd(n){return n.instantiationMode==="EAGER"}var nr=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Wi(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var Zd=[],C=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(C||{}),Jd={debug:C.DEBUG,verbose:C.VERBOSE,info:C.INFO,warn:C.WARN,error:C.ERROR,silent:C.SILENT},Xd=C.INFO,ef={[C.DEBUG]:"log",[C.VERBOSE]:"log",[C.INFO]:"info",[C.WARN]:"warn",[C.ERROR]:"error"},tf=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=ef[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Be=class{constructor(e){this.name=e,this._logLevel=Xd,this._logHandler=tf,this._userLogHandler=null,Zd.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in C))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Jd[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,C.DEBUG,...e),this._logHandler(this,C.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,C.VERBOSE,...e),this._logHandler(this,C.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,C.INFO,...e),this._logHandler(this,C.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,C.WARN,...e),this._logHandler(this,C.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,C.ERROR,...e),this._logHandler(this,C.ERROR,...e)}};var nf=(n,e)=>e.some(t=>n instanceof t),mc,yc;function rf(){return mc||(mc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function of(){return yc||(yc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var vc=new WeakMap,qi=new WeakMap,_c=new WeakMap,zi=new WeakMap,Ki=new WeakMap;function sf(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(ge(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&vc.set(t,n)}).catch(()=>{}),Ki.set(e,n),e}function af(n){if(qi.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});qi.set(n,e)}var Gi={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return qi.get(n);if(e==="objectStoreNames")return n.objectStoreNames||_c.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ge(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Ic(n){Gi=n(Gi)}function cf(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(rr(this),e,...t);return _c.set(r,e.sort?e.sort():[e]),ge(r)}:of().includes(n)?function(...e){return n.apply(rr(this),e),ge(vc.get(this))}:function(...e){return ge(n.apply(rr(this),e))}}function lf(n){return typeof n=="function"?cf(n):(n instanceof IDBTransaction&&af(n),nf(n,rf())?new Proxy(n,Gi):n)}function ge(n){if(n instanceof IDBRequest)return sf(n);if(zi.has(n))return zi.get(n);let e=lf(n);return e!==n&&(zi.set(n,e),Ki.set(e,n)),e}var rr=n=>Ki.get(n);function wc(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=ge(s);return r&&s.addEventListener("upgradeneeded",c=>{r(ge(s.result),c.oldVersion,c.newVersion,ge(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var uf=["get","getKey","getAll","getAllKeys","count"],df=["put","add","delete","clear"],Qi=new Map;function Ec(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Qi.get(e))return Qi.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=df.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||uf.includes(t)))return;let o=function(s,...a){return u(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&c.done]))[0]})};return Qi.set(e,o),o}Ic(n=>xe(ee({},n),{get:(e,t,r)=>Ec(e,t)||n.get(e,t,r),has:(e,t)=>!!Ec(e,t)||n.has(e,t)}));var Zi=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(ff(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function ff(n){let e=n.getComponent();return e?.type==="VERSION"}var Ji="@firebase/app",bc="0.12.1";var Se=new Be("@firebase/app"),hf="@firebase/app-compat",pf="@firebase/analytics-compat",gf="@firebase/analytics",mf="@firebase/app-check-compat",yf="@firebase/app-check",vf="@firebase/auth",_f="@firebase/auth-compat",If="@firebase/database",Ef="@firebase/data-connect",wf="@firebase/database-compat",bf="@firebase/functions",Tf="@firebase/functions-compat",Cf="@firebase/installations",Df="@firebase/installations-compat",Sf="@firebase/messaging",Nf="@firebase/messaging-compat",Mf="@firebase/performance",Af="@firebase/performance-compat",kf="@firebase/remote-config",Rf="@firebase/remote-config-compat",Pf="@firebase/storage",Of="@firebase/storage-compat",xf="@firebase/firestore",Lf="@firebase/vertexai",Ff="@firebase/firestore-compat",Vf="firebase",jf="11.7.1";var Xi="[DEFAULT]",Hf={[Ji]:"fire-core",[hf]:"fire-core-compat",[gf]:"fire-analytics",[pf]:"fire-analytics-compat",[yf]:"fire-app-check",[mf]:"fire-app-check-compat",[vf]:"fire-auth",[_f]:"fire-auth-compat",[If]:"fire-rtdb",[Ef]:"fire-data-connect",[wf]:"fire-rtdb-compat",[bf]:"fire-fn",[Tf]:"fire-fn-compat",[Cf]:"fire-iid",[Df]:"fire-iid-compat",[Sf]:"fire-fcm",[Nf]:"fire-fcm-compat",[Mf]:"fire-perf",[Af]:"fire-perf-compat",[kf]:"fire-rc",[Rf]:"fire-rc-compat",[Pf]:"fire-gcs",[Of]:"fire-gcs-compat",[xf]:"fire-fst",[Ff]:"fire-fst-compat",[Lf]:"fire-vertex","fire-js":"fire-js",[Vf]:"fire-js-all"};var an=new Map,Uf=new Map,eo=new Map;function Tc(n,e){try{n.container.addComponent(e)}catch(t){Se.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ne(n){let e=n.name;if(eo.has(e))return Se.debug(`There were multiple attempts to register component ${e}.`),!1;eo.set(e,n);for(let t of an.values())Tc(t,n);for(let t of Uf.values())Tc(t,n);return!0}function ir(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function me(n){return n==null?!1:n.settings!==void 0}var Bf={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$e=new ae("app","Firebase",Bf);var to=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Z("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $e.create("app-deleted",{appName:this._name})}};var Rt=jf;function io(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Xi,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw $e.create("bad-app-name",{appName:String(i)});if(t||(t=Ui()),!t)throw $e.create("no-options");let o=an.get(i);if(o){if(He(t,o.options)&&He(r,o.config))return o;throw $e.create("duplicate-app",{appName:i})}let s=new nr(i);for(let c of eo.values())s.addComponent(c);let a=new to(t,r,s);return an.set(i,a),a}function ln(n=Xi){let e=an.get(n);if(!e&&n===Xi&&Ui())return io();if(!e)throw $e.create("no-app",{appName:n});return e}function or(){return Array.from(an.values())}function F(n,e,t){var r;let i=(r=Hf[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Se.warn(a.join(" "));return}Ne(new Z(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var $f="firebase-heartbeat-database",Wf=1,cn="firebase-heartbeat-store",Yi=null;function Nc(){return Yi||(Yi=wc($f,Wf,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(cn)}catch(t){console.warn(t)}}}}).catch(n=>{throw $e.create("idb-open",{originalErrorMessage:n.message})})),Yi}function zf(n){return u(this,null,function*(){try{let t=(yield Nc()).transaction(cn),r=yield t.objectStore(cn).get(Mc(n));return yield t.done,r}catch(e){if(e instanceof se)Se.warn(e.message);else{let t=$e.create("idb-get",{originalErrorMessage:e?.message});Se.warn(t.message)}}})}function Cc(n,e){return u(this,null,function*(){try{let r=(yield Nc()).transaction(cn,"readwrite");yield r.objectStore(cn).put(e,Mc(n)),yield r.done}catch(t){if(t instanceof se)Se.warn(t.message);else{let r=$e.create("idb-set",{originalErrorMessage:t?.message});Se.warn(r.message)}}})}function Mc(n){return`${n.name}!${n.options.appId}`}var qf=1024,Gf=30,no=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new ro(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return u(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Dc();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Gf){let s=Qf(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Se.warn(r)}})}getHeartbeatsHeader(){return u(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=Dc(),{heartbeatsToSend:r,unsentEntries:i}=Kf(this._heartbeatsCache.heartbeats),o=ji(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Se.warn(t),""}})}};function Dc(){return new Date().toISOString().substring(0,10)}function Kf(n,e=qf){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Sc(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Sc(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var ro=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return u(this,null,function*(){return tr()?fc().then(()=>!0).catch(()=>!1):!1})}read(){return u(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield zf(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return u(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Cc(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return u(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Cc(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function Sc(n){return ji(JSON.stringify({version:2,heartbeats:n})).length}function Qf(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function Yf(n){Ne(new Z("platform-logger",e=>new Zi(e),"PRIVATE")),Ne(new Z("heartbeat",e=>new no(e),"PRIVATE")),F(Ji,bc,n),F(Ji,bc,"esm2017"),F("fire-js","")}Yf("");var Zf="firebase",Jf="11.7.1";F(Zf,Jf,"app");function G(n){return typeof n=="function"}function sr(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ar=sr(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function ct(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var B=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(G(r))try{r()}catch(o){e=o instanceof ar?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Ac(o)}catch(s){e=e??[],s instanceof ar?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ar(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Ac(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ct(t,e)}remove(e){let{_finalizers:t}=this;t&&ct(t,e),e instanceof n&&e._removeParent(this)}};B.EMPTY=(()=>{let n=new B;return n.closed=!0,n})();var oo=B.EMPTY;function cr(n){return n instanceof B||n&&"closed"in n&&G(n.remove)&&G(n.add)&&G(n.unsubscribe)}function Ac(n){G(n)?n():n.unsubscribe()}var ce={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Pt={setTimeout(n,e,...t){let{delegate:r}=Pt;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Pt;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function kc(n){Pt.setTimeout(()=>{let{onUnhandledError:e}=ce;if(e)e(n);else throw n})}function so(){}var Rc=ao("C",void 0,void 0);function Pc(n){return ao("E",void 0,n)}function Oc(n){return ao("N",n,void 0)}function ao(n,e,t){return{kind:n,value:e,error:t}}var lt=null;function Ot(n){if(ce.useDeprecatedSynchronousErrorHandling){let e=!lt;if(e&&(lt={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=lt;if(lt=null,t)throw r}}else n()}function xc(n){ce.useDeprecatedSynchronousErrorHandling&&lt&&(lt.errorThrown=!0,lt.error=n)}var ut=class extends B{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,cr(e)&&e.add(this)):this.destination=th}static create(e,t,r){return new xt(e,t,r)}next(e){this.isStopped?lo(Oc(e),this):this._next(e)}error(e){this.isStopped?lo(Pc(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?lo(Rc,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Xf=Function.prototype.bind;function co(n,e){return Xf.call(n,e)}var uo=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){lr(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){lr(r)}else lr(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){lr(t)}}},xt=class extends ut{constructor(e,t,r){super();let i;if(G(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&ce.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&co(e.next,o),error:e.error&&co(e.error,o),complete:e.complete&&co(e.complete,o)}):i=e}this.destination=new uo(i)}};function lr(n){ce.useDeprecatedSynchronousErrorHandling?xc(n):kc(n)}function eh(n){throw n}function lo(n,e){let{onStoppedNotification:t}=ce;t&&Pt.setTimeout(()=>t(n,e))}var th={closed:!0,next:so,error:eh,complete:so};var Lc=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Fc(n){return n}function Vc(n){return n.length===0?Fc:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Me=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=rh(t)?t:new xt(t,r,i);return Ot(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=jc(r),new r((i,o)=>{let s=new xt({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Lc](){return this}pipe(...t){return Vc(t)(this)}toPromise(t){return t=jc(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function jc(n){var e;return(e=n??ce.Promise)!==null&&e!==void 0?e:Promise}function nh(n){return n&&G(n.next)&&G(n.error)&&G(n.complete)}function rh(n){return n&&n instanceof ut||nh(n)&&cr(n)}function ih(n){return G(n?.lift)}function ur(n){return e=>{if(ih(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Hc(n,e,t,r,i){return new fo(n,e,t,r,i)}var fo=class extends ut{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var Uc=sr(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Lt=(()=>{class n extends Me{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new dr(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Uc}next(t){Ot(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Ot(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ot(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?oo:(this.currentObservers=null,o.push(t),new B(()=>{this.currentObservers=null,ct(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new Me;return t.source=this,t}}return n.create=(e,t)=>new dr(e,t),n})(),dr=class extends Lt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:oo}};var un=class extends Lt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var ho={now(){return(ho.delegate||Date).now()},delegate:void 0};var fr=class extends B{constructor(e,t){super()}schedule(e,t=0){return this}};var dn={setInterval(n,e,...t){let{delegate:r}=dn;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=dn;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Ft=class extends fr{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return dn.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&dn.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ct(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Vt=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Vt.now=ho.now;var jt=class extends Vt{constructor(e,t=Vt.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var po=new jt(Ft);var hr=class extends Ft{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var pr=class extends jt{};var go=new pr(hr);function mo(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function gr(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function mr(n,e=0){return ur((t,r)=>{t.subscribe(Hc(r,i=>gr(r,n,()=>r.next(i),e),()=>gr(r,n,()=>r.complete(),e),i=>gr(r,n,()=>r.error(i),e)))})}function yr(n,e=0){return ur((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}var Bc=null;var vr=Symbol("SIGNAL");function le(n){let e=Bc;return Bc=n,e}var yo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};var vo;function fn(){return vo}function Ae(n){let e=vo;return vo=n,e}var _r=Symbol("NotFound");var L=class extends Error{code;constructor(e,t){super(vh(e,t)),this.code=e}};function yh(n){return`NG0${Math.abs(n)}`}function vh(n,e){return`${yh(n)}${e?": "+e:""}`}function _h(n){return{toString:n}.toString()}var Ir="__parameters__";function Ih(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function Eh(n,e,t){return _h(()=>{let r=Ih(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,d){let f=c.hasOwnProperty(Ir)?c[Ir]:Object.defineProperty(c,Ir,{value:[]})[Ir];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(s),c}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function P(n){for(let e in n)if(n[e]===P)return e;throw Error("Could not find renamed property on target object.")}function ve(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(ve).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}var wh=P({__forward_ref__:P});function nl(n){return n.__forward_ref__=nl,n.toString=function(){return ve(this())},n}function ye(n){return bh(n)?n():n}function bh(n){return typeof n=="function"&&n.hasOwnProperty(wh)&&n.__forward_ref__===nl}function zt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ro(n){return $c(n,rl)||$c(n,il)}function $c(n,e){return n.hasOwnProperty(e)?n[e]:null}function Th(n){let e=n&&(n[rl]||n[il]);return e||null}function Wc(n){return n&&(n.hasOwnProperty(zc)||n.hasOwnProperty(Ch))?n[zc]:null}var rl=P({\u0275prov:P}),zc=P({\u0275inj:P}),il=P({ngInjectableDef:P}),Ch=P({ngInjectorDef:P}),K=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=zt({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function ol(n){return n&&!!n.\u0275providers}var Dh=P({\u0275cmp:P});var qc=P({\u0275fac:P});var Gc=P({__NG_ENV_ID__:P});function Sh(n,e){throw new L(-200,n)}function Nh(n,e){throw new L(-201,!1)}var U=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(U||{}),Io;function sl(){return Io}function We(n){let e=Io;return Io=n,e}function Mh(n,e,t){let r=Ro(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&U.Optional)return null;if(e!==void 0)return e;Nh(n,"Injector")}var Ah={},dt=Ah,Eo="__NG_DI_FLAG__",br=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?_r:dt,r)}},Tr="ngTempTokenPath",kh="ngTokenPath",Rh=/\n/gm,Ph="\u0275",Kc="__source";function Oh(n,e=U.Default){if(fn()===void 0)throw new L(-203,!1);if(fn()===null)return Mh(n,void 0,e);{let t=fn(),r;return t instanceof br?r=t.injector:r=t,r.get(n,e&U.Optional?null:void 0,e)}}function Bt(n,e=U.Default){return(sl()||Oh)(ye(n),e)}function J(n,e=U.Default){return Bt(n,al(e))}function al(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function wo(n){let e=[];for(let t=0;t<n.length;t++){let r=ye(n[t]);if(Array.isArray(r)){if(r.length===0)throw new L(900,!1);let i,o=U.Default;for(let s=0;s<r.length;s++){let a=r[s],c=Lh(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(Bt(i,o))}else e.push(Bt(r))}return e}function xh(n,e){return n[Eo]=e,n.prototype[Eo]=e,n}function Lh(n){return n[Eo]}function Fh(n,e,t,r){let i=n[Tr];throw e[Kc]&&i.unshift(e[Kc]),n.message=Vh(`
`+n.message,i,t,r),n[kh]=i,n[Tr]=null,n}function Vh(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==Ph?n.slice(2):n;let i=ve(e);if(Array.isArray(e))i=e.map(ve).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):ve(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Rh,`
  `)}`}var ft=xh(Eh("Optional"),8);function Cr(n,e){let t=n.hasOwnProperty(qc);return t?n[qc]:null}function Po(n,e){n.forEach(t=>Array.isArray(t)?Po(t,e):e(t))}var Dr=[],cl=new K(""),ll=new K("",-1),ul=new K(""),Sr=class{get(e,t=dt){if(t===dt){let r=new Error(`NullInjectorError: No provider for ${ve(e)}!`);throw r.name="NullInjectorError",r}return t}};function jh(n){return n[Dh]||null}function Ar(n){return{\u0275providers:n}}function Hh(...n){return{\u0275providers:Uh(!0,n),\u0275fromNgModule:!0}}function Uh(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Po(e,s=>{let a=s;bo(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&dl(i,o),t}function dl(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Oo(i,o=>{e(o,r)})}}function bo(n,e,t,r){if(n=ye(n),!n)return!1;let i=null,o=Wc(n),s=!o&&jh(n);if(!o&&!s){let c=n.ngModule;if(o=Wc(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)bo(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Po(o.imports,d=>{bo(d,e,t,r)&&(l||=[],l.push(d))})}finally{}l!==void 0&&dl(l,e)}if(!a){let l=Cr(i)||(()=>new i);e({provide:i,useFactory:l,deps:Dr},i),e({provide:ul,useValue:i,multi:!0},i),e({provide:cl,useValue:()=>Bt(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=n;Oo(c,d=>{e(d,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Oo(n,e){for(let t of n)ol(t)&&(t=t.\u0275providers),Array.isArray(t)?Oo(t,e):e(t)}var Bh=P({provide:String,useValue:P});function fl(n){return n!==null&&typeof n=="object"&&Bh in n}function $h(n){return!!(n&&n.useExisting)}function Wh(n){return!!(n&&n.useFactory)}function To(n){return typeof n=="function"}var zh=new K(""),wr={},Qc={},_o;function hl(){return _o===void 0&&(_o=new Sr),_o}var $t=class{},Nr=class extends $t{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Do(e,s=>this.processProvider(s)),this.records.set(ll,Ht(void 0,this)),i.has("environment")&&this.records.set($t,Ht(void 0,this));let o=this.records.get(zh);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ul,Dr,U.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?_r:dt,r)}destroy(){hn(this),this._destroyed=!0;let e=le(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),le(e)}}onDestroy(e){return hn(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){hn(this);let t=Ae(this),r=We(void 0),i;try{return e()}finally{Ae(t),We(r)}}get(e,t=dt,r=U.Default){if(hn(this),e.hasOwnProperty(Gc))return e[Gc](this);r=al(r);let i,o=Ae(this),s=We(void 0);try{if(!(r&U.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=Zh(e)&&Ro(e);l&&this.injectableDefInScope(l)?c=Ht(Co(e),wr):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c,r)}let a=r&U.Self?hl():this.parent;return t=r&U.Optional&&t===dt?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Tr]=a[Tr]||[]).unshift(ve(e)),o)throw a;return Fh(a,e,"R3InjectorError",this.source)}else throw a}finally{We(s),Ae(o)}}resolveInjectorInitializers(){let e=le(null),t=Ae(this),r=We(void 0),i;try{let o=this.get(cl,Dr,U.Self);for(let s of o)s()}finally{Ae(t),We(r),le(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(ve(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=ye(e);let t=To(e)?e:ye(e&&e.provide),r=Gh(e);if(!To(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Ht(void 0,wr,!0),i.factory=()=>wo(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=le(null);try{return t.value===Qc?Sh(ve(e)):t.value===wr&&(t.value=Qc,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&Yh(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{le(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=ye(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Co(n){let e=Ro(n),t=e!==null?e.factory:Cr(n);if(t!==null)return t;if(n instanceof K)throw new L(204,!1);if(n instanceof Function)return qh(n);throw new L(204,!1)}function qh(n){if(n.length>0)throw new L(204,!1);let t=Th(n);return t!==null?()=>t.factory(n):()=>new n}function Gh(n){if(fl(n))return Ht(void 0,n.useValue);{let e=Kh(n);return Ht(e,wr)}}function Kh(n,e,t){let r;if(To(n)){let i=ye(n);return Cr(i)||Co(i)}else if(fl(n))r=()=>ye(n.useValue);else if(Wh(n))r=()=>n.useFactory(...wo(n.deps||[]));else if($h(n))r=(i,o)=>Bt(ye(n.useExisting),o!==void 0&&o&U.Optional?U.Optional:void 0);else{let i=ye(n&&(n.useClass||n.provide));if(Qh(n))r=()=>new i(...wo(n.deps));else return Cr(i)||Co(i)}return r}function hn(n){if(n.destroyed)throw new L(205,!1)}function Ht(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Qh(n){return!!n.deps}function Yh(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function Zh(n){return typeof n=="function"||typeof n=="object"&&n instanceof K}function Do(n,e){for(let t of n)Array.isArray(t)?Do(t,e):t&&ol(t)?Do(t.\u0275providers,e):e(t)}function kr(n,e){let t;n instanceof Nr?(hn(n),t=n):t=new br(n);let r,i=Ae(t),o=We(void 0);try{return e()}finally{Ae(i),We(o)}}function pl(){return sl()!==void 0||fn()!=null}function gl(n){if(!pl())throw new L(-203,!1)}var Jh=1,Wt=2,Yc=3;var Xh=10;var Ut=21;var ml=24;var ep=1;function tp(n){return Array.isArray(n)&&n[ep]===!0}function yl(n){return(n[Wt]&256)===256}function vl(n){return(n[Wt]&128)===128}function np(n){n[Wt]&1024||(n[Wt]|=1024,vl(n)&&_l(n))}function _l(n){n[Xh].changeDetectionScheduler?.notify(0);let e=Mr(n);for(;e!==null&&!(e[Wt]&8192||(e[Wt]|=8192,!vl(e)));)e=Mr(e)}function rp(n,e){if(yl(n))throw new L(911,!1);n[Ut]===null&&(n[Ut]=[]),n[Ut].push(e)}function ip(n,e){if(n[Ut]===null)return;let t=n[Ut].indexOf(e);t!==-1&&n[Ut].splice(t,1)}function Mr(n){let e=n[Yc];return tp(e)?e[Yc]:e}var Il={lFrame:cp(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function op(){return Il.lFrame.lView}function sp(){let n=ap();for(;n!==null&&n.type===64;)n=n.parent;return n}function ap(){return Il.lFrame.currentTNode}function cp(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}var lp=256,mE=lp-1;function Zc(n,e=null,t=null,r){let i=up(n,e,t,r);return i.resolveInjectorInitializers(),i}function up(n,e=null,t=null,r,i=new Set){let o=[t||Dr,Hh(n)];return r=r||(typeof n=="object"?void 0:ve(n)),new Nr(o,e||hl(),r||null,i)}var ze=class n{static THROW_IF_NOT_FOUND=dt;static NULL=new Sr;static create(e,t){if(Array.isArray(e))return Zc({name:""},t,e,"");{let r=e.name??"";return Zc({name:r},e.parent,e.providers,r)}}static \u0275prov=zt({token:n,providedIn:"any",factory:()=>Bt(ll)});static __NG_ELEMENT_ID__=-1};var dp=new K("");dp.__NG_ELEMENT_ID__=n=>{let e=sp();if(e===null)throw new L(204,!1);if(e.type&2)return e.value;if(n&U.Optional)return null;throw new L(204,!1)};var fp=!1,xo=(()=>{class n{static __NG_ELEMENT_ID__=hp;static __NG_ENV_ID__=t=>t}return n})(),So=class extends xo{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let t=this._lView;return yl(t)?(e(),()=>{}):(rp(t,e),()=>ip(t,e))}};function hp(){return new So(op())}var No=class{};var El=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new un(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=zt({token:n,providedIn:"root",factory:()=>new n})}return n})(),Rr=(()=>{class n{internalPendingTasks=J(El);scheduler=J(No);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return u(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=zt({token:n,providedIn:"root",factory:()=>new n})}return n})(),Mo=class extends Lt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,pl()&&(this.destroyRef=J(xo,{optional:!0})??void 0,this.pendingTasks=J(El,{optional:!0})??void 0)}emit(e){let t=le(null);try{super.next(e)}finally{le(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof B&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Er=Mo;function Ao(...n){}function pp(n){let e,t;function r(){n=Ao;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}var Lo="isAngularZone",Jc=Lo+"_ID",gp=0,_e=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Er(!1);onMicrotaskEmpty=new Er(!1);onStable=new Er(!1);onError=new Er(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=fp}=e;if(typeof Zone>"u")throw new L(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,vp(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Lo)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new L(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new L(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,mp,Ao,Ao);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},mp={};function Fo(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function yp(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){pp(()=>{n.callbackScheduled=!1,ko(n),n.isCheckStableRunning=!0,Fo(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),ko(n)}function vp(n){let e=()=>{yp(n)},t=gp++;n._inner=n._inner.fork({name:"angular",properties:{[Lo]:!0,[Jc]:t,[Jc+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(_p(c))return r.invokeTask(o,s,a,c);try{return Xc(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),el(n)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return Xc(n),r.invoke(o,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!Ip(c)&&e(),el(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,ko(n),Fo(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function ko(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Xc(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function el(n){n._nesting--,Fo(n)}function _p(n){return wl(n,"__ignore_ng_zone__")}function Ip(n){return wl(n,"__scheduler_tick__")}function wl(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var bl=new K("",{providedIn:"platform",factory:()=>"unknown"});var Ep="h",wp="b";var yE=xe(ee({},yo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{_l(n.lView)},consumerOnSignalRead(){this.lView[ml]=this}});var vE=xe(ee({},yo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Mr(n.lView);for(;e&&!bp(e[Jh]);)e=Mr(e);e&&np(e)},consumerOnSignalRead(){this.lView[ml]=this}});function bp(n){return n.type!==2}var _E=new RegExp(`^(\\d+)*(${wp}|${Ep})*(.*)`);var pn=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Tl=new pn("19.2.10");function Vo(){return!1}var tl=class{[vr];constructor(e){this[vr]=e}destroy(){this[vr].destroy()}};function jo(n){n===void 0&&(gl(jo),n=J(ze));let e=n.get(Rr);return t=>new Me(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Gt=new pn("ANGULARFIRE2_VERSION");function Ho(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Or=(n,e)=>{let t=e?[e]:or(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},qt=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(qt||{}),Cl=Vo()&&typeof Zone<"u"?qt.WARN:qt.SILENT;var Pr=class{zone;delegate;constructor(e,t=go){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},Kt=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=J(_e);this.outsideAngular=t.runOutsideAngular(()=>new Pr(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Pr(typeof Zone>"u"?void 0:Zone.current,po))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=zt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Dl=!1;function Cp(n,e){!Dl&&(Cl>qt.SILENT||Vo())&&(Dl=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),Cl>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function Dp(n){let e=J(_e,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function ht(n){let e=J(_e,{optional:!0});return e?e.run(()=>n()):n()}var Sp=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),kr(t,()=>ht(()=>n.apply(void 0,r)))),gn=(n,e,t)=>(t||=e?qt.WARN:qt.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=J(Kt),s=J(Rr),a=J($t)}catch{return Cp(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=ht(()=>s.add())),i[l]=Sp(i[l],r,a));let c=Dp(()=>n.apply(this,i));return e?c instanceof Me?c.pipe(yr(o.outsideAngular),mr(o.insideAngular),jo(a)):c instanceof Promise?ht(()=>new Promise((l,d)=>{s.run(()=>c).then(f=>kr(a,()=>ht(()=>l(f))),f=>kr(a,()=>ht(()=>d(f))))})):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:ht(()=>c):c instanceof Me?c.pipe(yr(o.outsideAngular),mr(o.insideAngular)):ht(()=>c)});var pt=class{constructor(e){return e}},mn=class{constructor(){return or()}};function Np(n){return n&&n.length===1?n[0]:new pt(ln())}var Uo=new K("angularfire2._apps"),Mp={provide:pt,useFactory:Np,deps:[[new ft,Uo]]},Ap={provide:mn,deps:[[new ft,Uo]]};function kp(n){return(e,t)=>{let r=t.get(bl);F("angularfire",Gt.full,"core"),F("angularfire",Gt.full,"app"),F("angular",Tl.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new pt(i)}}function Sl(n,...e){return Ar([Mp,Ap,{provide:Uo,useFactory:kp(n),multi:!0,deps:[_e,ze,Kt,...e]}])}var Nl=gn(io,!0);var Rp=new Map,Pp={activated:!1,tokenObservers:[]},Op={initialized:!1,enabled:!1};function ue(n){return Rp.get(n)||Object.assign({},Pp)}function Rl(){return Op}var xp="https://content-firebaseappcheck.googleapis.com/v1";var Lp="exchangeDebugToken",Ml={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},iw=24*60*60*1e3;var Wo=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return u(this,null,function*(){this.stop();try{this.pending=new st,this.pending.promise.catch(t=>{}),yield Fp(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new st,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function Fp(n){return new Promise(e=>{setTimeout(e,n)})}var Vp={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},qe=new ae("appCheck","AppCheck",Vp);function Pl(n){if(!ue(n).activated)throw qe.create("use-before-activation",{appName:n.name})}function Ol(r,i){return u(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let h=yield s.getHeartbeatsHeader();h&&(o["X-Firebase-Client"]=h)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(n,a)}catch(h){throw qe.create("fetch-network-error",{originalErrorMessage:h?.message})}if(c.status!==200)throw qe.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(h){throw qe.create("fetch-parse-error",{originalErrorMessage:h?.message})}let d=l.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw qe.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let f=Number(d[1])*1e3,g=Date.now();return{token:l.token,expireTimeMillis:g+f,issuedAtTimeMillis:g}})}function xl(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${xp}/projects/${t}/apps/${r}:${Lp}?key=${i}`,body:{debug_token:e}}}var jp="firebase-app-check-database",Hp=1,zo="firebase-app-check-store";var xr=null;function Up(){return xr||(xr=new Promise((n,e)=>{try{let t=indexedDB.open(jp,Hp);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(qe.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(zo,{keyPath:"compositeKey"})}}}catch(t){e(qe.create("storage-open",{originalErrorMessage:t?.message}))}}),xr)}function Bp(n,e){return $p(Wp(n),e)}function $p(n,e){return u(this,null,function*(){let r=(yield Up()).transaction(zo,"readwrite"),o=r.objectStore(zo).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(qe.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function Wp(n){return`${n.options.appId}-${n.name}`}var yn=new Be("@firebase/app-check");function Bo(n,e){return tr()?Bp(n,e).catch(t=>{yn.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Ll(){return Rl().enabled}function Fl(){return u(this,null,function*(){let n=Rl();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var zp={error:"UNKNOWN_ERROR"};function qp(n){return Xn.encodeString(JSON.stringify(n),!1)}function qo(n,e=!1,t=!1){return u(this,null,function*(){let r=n.app;Pl(r);let i=ue(r),o=i.token,s;if(o&&!vn(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(vn(l)?o=l:yield Bo(r,void 0))}if(!e&&o&&vn(o))return{token:o.token};let a=!1;if(Ll())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=Ol(xl(r,yield Fl()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield Bo(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?yn.warn(l.message):t&&yn.error(l),$o(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield ue(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?yn.warn(l.message):t&&yn.error(l),s=l}let c;return o?s?vn(o)?c={token:o.token,internalError:s}:c=$o(s):(c={token:o.token},i.token=o,yield Bo(r,o)):c=$o(s),a&&Yp(r,c),c})}function Gp(n){return u(this,null,function*(){let e=n.app;Pl(e);let{provider:t}=ue(e);if(Ll()){let r=yield Fl(),{token:i}=yield Ol(xl(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function Kp(n,e,t,r){let{app:i}=n,o=ue(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&vn(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),Al(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>Al(n))}function Vl(n,e){let t=ue(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Al(n){let{app:e}=n,t=ue(e),r=t.tokenRefresher;r||(r=Qp(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Qp(n){let{app:e}=n;return new Wo(()=>u(null,null,function*(){let t=ue(e),r;if(t.token?r=yield qo(n,!0):r=yield qo(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=ue(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},Ml.RETRIAL_MIN_WAIT,Ml.RETRIAL_MAX_WAIT)}function Yp(n,e){let t=ue(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function vn(n){return n.expireTimeMillis-Date.now()>0}function $o(n){return{token:qp(zp),error:n}}var Go=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=ue(this.app);for(let t of e)Vl(this.app,t.next);return Promise.resolve()}};function Zp(n,e){return new Go(n,e)}function Jp(n){return{getToken:e=>qo(n,e),getLimitedUseToken:()=>Gp(n),addTokenListener:e=>Kp(n,"INTERNAL",e),removeTokenListener:e=>Vl(n.app,e)}}var Xp="@firebase/app-check",eg="0.9.1";var tg="app-check",kl="app-check-internal";function ng(){Ne(new Z(tg,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return Zp(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(kl).initialize()})),Ne(new Z(kl,n=>{let e=n.getProvider("app-check").getImmediate();return Jp(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),F(Xp,eg)}ng();var rg="app-check";var Lr=class{constructor(){return Or(rg)}};var ig=["localhost","0.0.0.0","127.0.0.1"],yw=typeof window<"u"&&ig.includes(window.location.hostname);function Xl(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var eu=Xl,tu=new ae("auth","Firebase",Xl());var Br=new Be("@firebase/auth");function og(n,...e){Br.logLevel<=C.WARN&&Br.warn(`Auth (${Rt}): ${n}`,...e)}function Vr(n,...e){Br.logLevel<=C.ERROR&&Br.error(`Auth (${Rt}): ${n}`,...e)}function Qe(n,...e){throw hs(n,...e)}function mt(n,...e){return hs(n,...e)}function nu(n,e,t){let r=Object.assign(Object.assign({},eu()),{[e]:t});return new ae("auth","Firebase",r).create(e,{appName:n.name})}function gt(n){return nu(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hs(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return tu.create(n,...e)}function I(n,e,...t){if(!n)throw hs(e,...t)}function ke(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Vr(e),new Error(e)}function Ye(n,e){n||ke(e)}function Zo(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function sg(){return jl()==="http:"||jl()==="https:"}function jl(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function ag(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sg()||lc()||"connection"in navigator)?navigator.onLine:!0}function cg(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var yt=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ye(t>e,"Short delay should be less than long delay!"),this.isMobile=ac()||uc()}get(){return ag()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function ps(n,e){Ye(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var $r=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ke("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ke("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ke("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var lg={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var ug=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],dg=new yt(3e4,6e4);function gs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Qt(o,s,a,c){return u(this,arguments,function*(n,e,t,r,i={}){return ru(n,i,()=>u(null,null,function*(){let l={},d={};r&&(e==="GET"?d=r:l={body:JSON.stringify(r)});let f=sn(Object.assign({key:n.config.apiKey},d)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);let h=Object.assign({method:e,headers:g},l);return cc()||(h.referrerPolicy="no-referrer"),n.emulatorConfig&&$i(n.emulatorConfig.host)&&(h.credentials="include"),$r.fetch()(yield iu(n,n.config.apiHost,t,f),h)}))})}function ru(n,e,t){return u(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},lg),e);try{let i=new Jo(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Fr(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fr(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Fr(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw Fr(n,"user-disabled",s);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw nu(n,d,l);Qe(n,d)}}catch(i){if(i instanceof se)throw i;Qe(n,"network-request-failed",{message:String(i)})}})}function fg(o,s,a,c){return u(this,arguments,function*(n,e,t,r,i={}){let l=yield Qt(n,e,t,r,i);return"mfaPendingCredential"in l&&Qe(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function iu(n,e,t,r){return u(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?ps(n.config,i):`${n.config.apiScheme}://${i}`;return ug.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var Jo=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(mt(this.auth,"network-request-failed")),dg.get())})}};function Fr(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=mt(n,e,r);return i.customData._tokenResponse=t,i}function hg(n,e){return u(this,null,function*(){return Qt(n,"POST","/v1/accounts:delete",e)})}function Wr(n,e){return u(this,null,function*(){return Qt(n,"POST","/v1/accounts:lookup",e)})}function _n(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ms(n,e=!1){return u(this,null,function*(){let t=Ue(n),r=yield t.getIdToken(e),i=ys(r);I(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:_n(Ko(i.auth_time)),issuedAtTime:_n(Ko(i.iat)),expirationTime:_n(Ko(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Ko(n){return Number(n)*1e3}function ys(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Vr("JWT malformed, contained fewer than 3 sections"),null;try{let i=er(t);return i?JSON.parse(i):(Vr("Failed to decode base64 JWT payload"),null)}catch(i){return Vr("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Hl(n){let e=ys(n);return I(e,"internal-error"),I(typeof e.exp<"u","internal-error"),I(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function En(n,e,t=!1){return u(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof se&&pg(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function pg({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Xo=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>u(this,null,function*(){yield this.iteration()}),t)}iteration(){return u(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var wn=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=_n(this.lastLoginAt),this.creationTime=_n(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function zr(n){return u(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield En(n,Wr(t,{idToken:r}));I(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?ou(o.providerUserInfo):[],a=gg(n.providerData,s),c=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,d=c?l:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new wn(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(n,f)})}function vs(n){return u(this,null,function*(){let e=Ue(n);yield zr(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function gg(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ou(n){return n.map(e=>{var{providerId:t}=e,r=mo(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function mg(n,e){return u(this,null,function*(){let t=yield ru(n,{},()=>u(null,null,function*(){let r=sn({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield iu(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",$r.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function yg(n,e){return u(this,null,function*(){return Qt(n,"POST","/v2/accounts:revokeToken",gs(n,e))})}var In=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){I(e.idToken,"internal-error"),I(typeof e.idToken<"u","internal-error"),I(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Hl(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){I(e.length!==0,"internal-error");let t=Hl(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return u(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(I(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return u(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield mg(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(I(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(I(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(I(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return ke("not implemented")}};function Ge(n,e){I(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Ke=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=mo(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new wn(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return u(this,null,function*(){let t=yield En(this,this.stsTokenManager.getToken(this.auth,e));return I(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return ms(this,e)}reload(){return vs(this)}_assign(e){this!==e&&(I(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){I(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return u(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield zr(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return u(this,null,function*(){if(me(this.auth.app))return Promise.reject(gt(this.auth));let e=yield this.getIdToken();return yield En(this,hg(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,l,d;let f=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,h=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,m=(s=t.photoURL)!==null&&s!==void 0?s:void 0,_=(a=t.tenantId)!==null&&a!==void 0?a:void 0,T=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,S=(l=t.createdAt)!==null&&l!==void 0?l:void 0,N=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:A,emailVerified:M,isAnonymous:Ee,providerData:$,stsTokenManager:O}=t;I(A&&O,e,"internal-error");let V=In.fromJSON(this.name,O);I(typeof A=="string",e,"internal-error"),Ge(f,e.name),Ge(g,e.name),I(typeof M=="boolean",e,"internal-error"),I(typeof Ee=="boolean",e,"internal-error"),Ge(h,e.name),Ge(m,e.name),Ge(_,e.name),Ge(T,e.name),Ge(S,e.name),Ge(N,e.name);let ne=new n({uid:A,auth:e,email:g,emailVerified:M,displayName:f,isAnonymous:Ee,photoURL:m,phoneNumber:h,tenantId:_,stsTokenManager:V,createdAt:S,lastLoginAt:N});return $&&Array.isArray($)&&(ne.providerData=$.map(Pe=>Object.assign({},Pe))),T&&(ne._redirectEventId=T),ne}static _fromIdTokenResponse(e,t,r=!1){return u(this,null,function*(){let i=new In;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield zr(o),o})}static _fromGetAccountInfoResponse(e,t,r){return u(this,null,function*(){let i=t.users[0];I(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?ou(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new In;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new wn(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var Ul=new Map;function Re(n){Ye(n instanceof Function,"Expected a class definition");let e=Ul.get(n);return e?(Ye(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Ul.set(n,e),e)}var vg=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return u(this,null,function*(){return!0})}_set(t,r){return u(this,null,function*(){this.storage[t]=r})}_get(t){return u(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return u(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),es=vg;function jr(n,e,t){return`firebase:${n}:${e}:${t}`}var qr=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=jr(this.userKey,i.apiKey,o),this.fullPersistenceKey=jr("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return u(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Wr(this.auth,{idToken:e}).catch(()=>{});return t?Ke._fromGetAccountInfoResponse(this.auth,t,e):null}return Ke._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return u(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return u(this,null,function*(){if(!t.length)return new n(Re(es),e,r);let i=(yield Promise.all(t.map(l=>u(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Re(es),s=jr(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let d=yield l._get(s);if(d){let f;if(typeof d=="string"){let g=yield Wr(e,{idToken:d}).catch(()=>{});if(!g)break;f=yield Ke._fromGetAccountInfoResponse(e,g,d)}else f=Ke._fromJSON(e,d);l!==o&&(a=f),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>u(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function Bl(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lu(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(su(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(du(e))return"Blackberry";if(fu(e))return"Webos";if(au(e))return"Safari";if((e.includes("chrome/")||cu(e))&&!e.includes("edge/"))return"Chrome";if(uu(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function su(n=H()){return/firefox\//i.test(n)}function au(n=H()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cu(n=H()){return/crios\//i.test(n)}function lu(n=H()){return/iemobile/i.test(n)}function uu(n=H()){return/android/i.test(n)}function du(n=H()){return/blackberry/i.test(n)}function fu(n=H()){return/webos/i.test(n)}function _s(n=H()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function _g(n=H()){var e;return _s(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Ig(){return dc()&&document.documentMode===10}function hu(n=H()){return _s(n)||uu(n)||fu(n)||du(n)||/windows phone/i.test(n)||lu(n)}function pu(n,e=[]){let t;switch(n){case"Browser":t=Bl(H());break;case"Worker":t=`${Bl(H())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Rt}/${r}`}var ts=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return u(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Eg(t){return u(this,arguments,function*(n,e={}){return Qt(n,"GET","/v2/passwordPolicy",gs(n,e))})}var wg=6,ns=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:wg,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var rs=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gr(this),this.idTokenSubscription=new Gr(this),this.beforeStateQueue=new ts(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tu,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Re(t)),this._initializationPromise=this.queue(()=>u(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield qr.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return u(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return u(this,null,function*(){try{let t=yield Wr(this,{idToken:e}),r=yield Ke._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return u(this,null,function*(){var t;if(me(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return I(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return u(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return u(this,null,function*(){try{yield zr(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=cg()}_delete(){return u(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return u(this,null,function*(){if(me(this.app))return Promise.reject(gt(this));let t=e?Ue(e):null;return t&&I(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return u(this,null,function*(){if(!this._deleted)return e&&I(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>u(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return u(this,null,function*(){return me(this.app)?Promise.reject(gt(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return me(this.app)?Promise.reject(gt(this)):this.queue(()=>u(this,null,function*(){yield this.assertedPersistence.setPersistence(Re(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return u(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return u(this,null,function*(){let e=yield Eg(this),t=new ns(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ae("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return u(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield yg(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return u(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return u(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Re(e)||this._popupRedirectResolver;I(t,this,"argument-error"),this.redirectPersistenceManager=yield qr.create(this,[Re(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return u(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>u(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return u(this,null,function*(){if(e===this.currentUser)return this.queue(()=>u(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(I(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return u(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return I(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pu(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return u(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return u(this,null,function*(){var e;if(me(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&og(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Is(n){return Ue(n)}var Gr=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=pc(t=>this.observer=t)}get next(){return I(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Es={loadJS(){return u(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bg(n){Es=n}function Tg(n){return Es.loadJS(n)}function Cg(){return Es.gapiScript}function gu(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function ws(n,e){let t=ir(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(He(o,e??{}))return i;Qe(i,"already-initialized")}return t.initialize({options:e})}function Dg(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Re);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function bs(n,e,t){let r=Is(n);I(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=mu(e),{host:s,port:a}=Sg(e),c=a===null?"":`:${a}`,l={url:`${o}//${s}${c}/`},d=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){I(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),I(He(l,r.config.emulator)&&He(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,i||Ng(),$i(s)&&gc(`${o}//${s}${c}`)}function mu(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Sg(n){let e=mu(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:$l(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:$l(s)}}}function $l(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function Ng(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Kr=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ke("not implemented")}_getIdTokenResponse(e){return ke("not implemented")}_linkToIdToken(e,t){return ke("not implemented")}_getReauthenticationResolver(e){return ke("not implemented")}};function Qo(n,e){return u(this,null,function*(){return fg(n,"POST","/v1/accounts:signInWithIdp",gs(n,e))})}var Qr=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var is=class extends Qr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var bn=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return u(this,null,function*(){let o=yield Ke._fromIdTokenResponse(e,r,i),s=Wl(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return u(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=Wl(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function Wl(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var os=class n extends se{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function yu(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?os._fromErrorAndOperation(n,o,e,r):o})}function Mg(n,e,t=!1){return u(this,null,function*(){let r=yield En(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return bn._forOperation(n,"link",r)})}function Ag(n,e,t=!1){return u(this,null,function*(){let{auth:r}=n;if(me(r.app))return Promise.reject(gt(r));let i="reauthenticate";try{let o=yield En(n,yu(r,i,e,n),t);I(o.idToken,r,"internal-error");let s=ys(o.idToken);I(s,r,"internal-error");let{sub:a}=s;return I(n.uid===a,r,"user-mismatch"),bn._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Qe(r,"user-mismatch"),o}})}function kg(n,e,t=!1){return u(this,null,function*(){if(me(n.app))return Promise.reject(gt(n));let r="signIn",i=yield yu(n,r,e),o=yield bn._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function Ts(n,e,t,r){return Ue(n).onIdTokenChanged(e,t,r)}function Cs(n,e,t){return Ue(n).beforeAuthStateChanged(e,t)}var Yr="__sak";var Zr=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Yr,"1"),this.storage.removeItem(Yr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var Rg=1e3,Pg=10,Og=(()=>{class n extends Zr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hu(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);Ig()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,Pg):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},Rg)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return u(this,null,function*(){yield Xe(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return u(this,null,function*(){let r=yield Xe(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return u(this,null,function*(){yield Xe(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),vu=Og;var xg=(()=>{class n extends Zr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),Ds=xg;function Lg(n){return Promise.all(n.map(e=>u(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var Fg=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return u(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(d=>u(this,null,function*(){return d(r.origin,s)})),l=yield Lg(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function _u(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var ss=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return u(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=_u("",20);i.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){let g=f;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Ie(){return window}function Vg(n){Ie().location.href=n}function Iu(){return typeof Ie().WorkerGlobalScope<"u"&&typeof Ie().importScripts=="function"}function jg(){return u(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Hg(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Ug(){return Iu()?self:null}var Eu="firebaseLocalStorageDb",Bg=1,Jr="firebaseLocalStorage",wu="fbase_key",vt=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function ei(n,e){return n.transaction([Jr],e?"readwrite":"readonly").objectStore(Jr)}function $g(){let n=indexedDB.deleteDatabase(Eu);return new vt(n).toPromise()}function as(){let n=indexedDB.open(Eu,Bg);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Jr,{keyPath:wu})}catch(i){t(i)}}),n.addEventListener("success",()=>u(null,null,function*(){let r=n.result;r.objectStoreNames.contains(Jr)?e(r):(r.close(),yield $g(),e(yield as()))}))})}function zl(n,e,t){return u(this,null,function*(){let r=ei(n,!0).put({[wu]:e,value:t});return new vt(r).toPromise()})}function Wg(n,e){return u(this,null,function*(){let t=ei(n,!1).get(e),r=yield new vt(t).toPromise();return r===void 0?null:r.value})}function ql(n,e){let t=ei(n,!0).delete(e);return new vt(t).toPromise()}var zg=800,qg=3,Gg=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return u(this,null,function*(){return this.db?this.db:(this.db=yield as(),this.db)})}_withRetries(t){return u(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>qg)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return u(this,null,function*(){return Iu()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return u(this,null,function*(){this.receiver=Fg._getInstance(Ug()),this.receiver._subscribe("keyChanged",(t,r)=>u(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>u(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return u(this,null,function*(){var t,r;if(this.activeServiceWorker=yield jg(),!this.activeServiceWorker)return;this.sender=new ss(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return u(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Hg()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return u(this,null,function*(){try{if(!indexedDB)return!1;let t=yield as();return yield zl(t,Yr,"1"),yield ql(t,Yr),!0}catch{}return!1})}_withPendingWrite(t){return u(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return u(this,null,function*(){return this._withPendingWrite(()=>u(this,null,function*(){return yield this._withRetries(i=>zl(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return u(this,null,function*(){let r=yield this._withRetries(i=>Wg(i,t));return this.localCache[t]=r,r})}_remove(t){return u(this,null,function*(){return this._withPendingWrite(()=>u(this,null,function*(){return yield this._withRetries(r=>ql(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return u(this,null,function*(){let t=yield this._withRetries(o=>{let s=ei(o,!1).getAll();return new vt(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>u(this,null,function*(){return this._poll()}),zg)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),bu=Gg;var Sw=gu("rcb"),Nw=new yt(3e4,6e4);function Kg(n,e){return e?Re(e):(I(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Tn=class extends Kr{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Qo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Qo(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function Qg(n){return kg(n.auth,new Tn(n),n.bypassAuthState)}function Yg(n){let{auth:e,user:t}=n;return I(t,e,"internal-error"),Ag(t,new Tn(n),n.bypassAuthState)}function Zg(n){return u(this,null,function*(){let{auth:e,user:t}=n;return I(t,e,"internal-error"),Mg(t,new Tn(n),n.bypassAuthState)})}var cs=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>u(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return u(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Qg;case"linkViaPopup":case"linkViaRedirect":return Zg;case"reauthViaPopup":case"reauthViaRedirect":return Yg;default:Qe(this.auth,"internal-error")}}resolve(e){Ye(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ye(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Mw=new yt(2e3,1e4);var Jg="pendingRedirect",Hr=new Map,ls=class n extends cs{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return u(this,null,function*(){let e=Hr.get(this.auth._key());if(!e){try{let r=(yield Xg(this.resolver,this.auth))?yield Xe(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Hr.set(this.auth._key(),e)}return this.bypassAuthState||Hr.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return u(this,null,function*(){if(e.type==="signInViaRedirect")return Xe(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Xe(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return u(this,null,function*(){})}cleanUp(){}};function Xg(n,e){return u(this,null,function*(){let t=nm(e),r=tm(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function em(n,e){Hr.set(n._key(),e)}function tm(n){return Re(n._redirectPersistence)}function nm(n){return jr(Jg,n.config.apiKey,n.name)}function rm(n,e,t=!1){return u(this,null,function*(){if(me(n.app))return Promise.reject(gt(n));let r=Is(n),i=Kg(r,e),s=yield new ls(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var im=10*60*1e3,us=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!om(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Tu(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(mt(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=im&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gl(e))}saveEventToCache(e){this.cachedEventUids.add(Gl(e)),this.lastProcessedEventTime=Date.now()}};function Gl(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Tu({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function om(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Tu(n);default:return!1}}function sm(t){return u(this,arguments,function*(n,e={}){return Qt(n,"GET","/v1/projects",e)})}var am=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cm=/^https?/;function lm(n){return u(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield sm(n);for(let t of e)try{if(um(t))return}catch{}Qe(n,"unauthorized-domain")})}function um(n){let e=Zo(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!cm.test(t))return!1;if(am.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var dm=new yt(3e4,6e4);function Kl(){let n=Ie().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function fm(n){return new Promise((e,t)=>{var r,i,o;function s(){Kl(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Kl(),t(mt(n,"network-request-failed"))},timeout:dm.get()})}if(!((i=(r=Ie().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Ie().gapi)===null||o===void 0)&&o.load)s();else{let a=gu("iframefcb");return Ie()[a]=()=>{gapi.load?s():t(mt(n,"network-request-failed"))},Tg(`${Cg()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw Ur=null,e})}var Ur=null;function hm(n){return Ur=Ur||fm(n),Ur}var pm=new yt(5e3,15e3),gm="__/auth/iframe",mm="emulator/auth/iframe",ym={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vm=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _m(n){let e=n.config;I(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?ps(e,mm):`https://${n.config.authDomain}/${gm}`,r={apiKey:e.apiKey,appName:n.name,v:Rt},i=vm.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${sn(r).slice(1)}`}function Im(n){return u(this,null,function*(){let e=yield hm(n),t=Ie().gapi;return I(t,n,"internal-error"),e.open({where:document.body,url:_m(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ym,dontclear:!0},r=>new Promise((i,o)=>u(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=mt(n,"network-request-failed"),a=Ie().setTimeout(()=>{o(s)},pm.get());function c(){Ie().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var Em={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wm=500,bm=600,Tm="_blank",Cm="http://localhost",Xr=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Dm(n,e,t,r=wm,i=bm){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},Em),{width:r.toString(),height:i.toString(),top:o,left:s}),l=H().toLowerCase();t&&(a=cu(l)?Tm:t),su(l)&&(e=e||Cm,c.scrollbars="yes");let d=Object.entries(c).reduce((g,[h,m])=>`${g}${h}=${m},`,"");if(_g(l)&&a!=="_self")return Sm(e||"",a),new Xr(null);let f=window.open(e||"",a,d);I(f,n,"popup-blocked");try{f.focus()}catch{}return new Xr(f)}function Sm(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var Nm="__/auth/handler",Mm="emulator/auth/handler",Am=encodeURIComponent("fac");function Ql(n,e,t,r,i,o){return u(this,null,function*(){I(n.config.authDomain,n,"auth-domain-config-required"),I(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Rt,eventId:i};if(e instanceof Qr){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",hc(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,f]of Object.entries(o||{}))s[d]=f}if(e instanceof is){let d=e.getScopes().filter(f=>f!=="");d.length>0&&(s.scopes=d.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield n._getAppCheckToken(),l=c?`#${Am}=${encodeURIComponent(c)}`:"";return`${km(n)}?${sn(a).slice(1)}${l}`})}function km({config:n}){return n.emulator?ps(n,Mm):`https://${n.authDomain}/${Nm}`}var Yo="webStorageSupport",ds=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ds,this._completeRedirectFn=rm,this._overrideRedirectResult=em}_openPopup(e,t,r,i){return u(this,null,function*(){var o;Ye((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield Ql(e,t,r,Zo(),i);return Dm(e,s,_u())})}_openRedirect(e,t,r,i){return u(this,null,function*(){yield this._originValidation(e);let o=yield Ql(e,t,r,Zo(),i);return Vg(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Ye(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return u(this,null,function*(){let t=yield Im(e),r=new us(e);return t.register("authEvent",i=>(I(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Yo,{type:Yo},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Yo];s!==void 0&&t(!!s),Qe(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=lm(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return hu()||au()||_s()}},Cu=ds;var Yl="@firebase/auth",Zl="1.10.2";var fs=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return u(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){I(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Rm(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Pm(n){Ne(new Z("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;I(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pu(n)},l=new rs(r,i,o,c);return Dg(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ne(new Z("auth-internal",e=>{let t=Is(e.getProvider("auth").getImmediate());return(r=>new fs(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),F(Yl,Zl,Rm(n)),F(Yl,Zl,"esm2017")}var Om=5*60,xm=Bi("authIdTokenMaxAge")||Om,Jl=null,Lm=n=>e=>u(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>xm)return;let i=t?.token;Jl!==i&&(Jl=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Ss(n=ln()){let e=ir(n,"auth");if(e.isInitialized())return e.getImmediate();let t=ws(n,{popupRedirectResolver:Cu,persistence:[bu,vu,Ds]}),r=Bi("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=Lm(o.toString());Cs(t,s,()=>s(t.currentUser)),Ts(t,a=>s(a))}}let i=sc("auth");return i&&bs(t,`http://${i}`),t}function Fm(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}bg({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=mt("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",Fm().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Pm("Browser");var Du="auth",Cn=class{constructor(e){return e}},Ns=class{constructor(){return Or(Du)}};var Ms=new K("angularfire2.auth-instances");function Ay(n,e){let t=Ho(Du,n,e);return t&&new Cn(t)}function ky(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Cn(r)}}var Ry={provide:Ns,deps:[[new ft,Ms]]},Py={provide:Cn,useFactory:Ay,deps:[[new ft,Ms],pt]};function Su(n,...e){return F("angularfire",Gt.full,"auth"),Ar([Py,Ry,{provide:Ms,useFactory:ky(n),multi:!0,deps:[_e,ze,Kt,mn,[new ft,Lr],...e]}])}var Nu=gn(Ss,!0);var Mu={production:!1,firebaseConfig:{apiKey:"AIzaSyB7cH9yzL9dTh0kFJ9zAJiXn5fragY5ta0",authDomain:"elite-website-62dcd.firebaseapp.com",projectId:"elite-website-62dcd",storageBucket:"elite-website-62dcd.appspot.com",messagingSenderId:"1048105239598",appId:"1:1048105239598:web:9aff29809f1b15270a0bbf",measurementId:"G-0FDCRQEWZ4"}};var Au=(()=>{class n{http;prefix;suffix;constructor(t,r="/assets/i18n/",i=".json"){this.http=t,this.prefix=r,this.suffix=i}getTranslation(t){return this.http.get(`${this.prefix}${t}${this.suffix}`)}static \u0275fac=function(r){return new(r||n)(Le(Sn),Le(String),Le(String))};static \u0275prov=_t({token:n,factory:n.\u0275fac})}return n})();function ku(n){let e="/";return typeof document<"u"&&(e=document.getElementsByTagName("base")[0]?.href||"/"),new Au(n,`${e}assets/i18n/`,".json")}var Ru={providers:[ii(Ks()),xs(Qs,Ve.forRoot({defaultLanguage:"en",loader:{provide:Zs,useFactory:ku,deps:[Sn]}})),Ys(),ea(ra),ii(),tc(),Sl(()=>Nl(Mu.firebaseConfig)),Su(()=>Nu())]};Gs(Rn,Ru).catch(n=>console.error(n));
